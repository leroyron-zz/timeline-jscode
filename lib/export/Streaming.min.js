window.app={width:window.innerWidth,height:window.innerHeight,resolution:"1280,720",fullscreen:!1,touch:!1,popup:!1,pointers:{enabled:!0,inUse:!1},marquee:{},motionblur:{shutterspeed:2,influence:10},uniforms:{godray_amount:15,screenshadow_alpha:1,ash_direction:3},sound:!0,ready:!1};window.canvases=[];window.createCanvas={};window.container={};window.info={};window.stats={showPanel:function(){},begin:function(){},end:function(){}};
window.context=function(a,b){var d=this.THREE,e=this.Stats;this.container=document.getElementById(a);this.info=document.getElementById(b);this.stats=e?new e:window.stats;this.stats.showPanel(0);e&&this.info.appendChild(this.stats.dom);this.createCanvas=function(a){var b={};"3d"!==a?(b.node=document.createElement("canvas"),b.context=b.node.getContext("2d")):(b.renderer=new d.WebGLRenderer,b.renderer.setSize(this.app.resolution.width,this.app.resolution.height),b.renderer.setClearColor(0),b.renderer.context.scene=
new d.Scene,b.renderer.context.camera=new d.PerspectiveCamera(100,this.app.width/this.app.height,1,1E5),b.context=b.renderer.context,b.node=b.renderer.domElement,b.node.tabindex="1");b.node.width=this.app.resolution.width;b.node.height=this.app.resolution.height;b.node.style.width=this.app.width+"px";b.node.style.height=this.app.height+"px";this.app.element=this.container;b.context.constructor.name=b.context.constructor.name||"2d"==a?"CanvasRenderingContext2D":"WebGLRenderingContext";this.container.appendChild(b.node);
window.canvases.push(b);return b};this.buildContext=function(a,b,d){var c=document.createElement("script");c.src=b;c.onload=function(){d()};document.body.appendChild(c);return a}};
window.onresize=function(){this.app.width=this.innerWidth;this.app.height=this.innerHeight;if(0<this.canvases.length){for(var a=0,b=this.canvases.length;a<b;a++)if("undefined"===typeof this.canvases[a].id){this.canvases[a].renderer&&(this.canvases[a].renderer.setSize(this.app.resolution.width,this.app.resolution.height),this.canvases[a].renderer.render(this.canvases[a].context.scene,this.canvases[a].context.camera),this.canvases[a].context.camera.updateProjectionMatrix());this.canvases[a].node.width=
this.app.resolution.width;this.canvases[a].node.height=this.app.resolution.height;this.canvases[a].node.style.width=this.app.width+"px";this.canvases[a].node.style.height=this.app.height+"px";if(!this.app.ready&&!this.app.force&&!this.canvases[a].app.resolution)return;this.canvases[a].app&&this.canvases[a].app.resolution(this.app)}try{window.ctx.calc&&window.ctx.calc(),window.ctx.rendering&&window.ctx.rendering()}catch(d){console.log("Resize: Waiting for ready - ref: http://")}finally{}}this.resizeCallbacks()};
window.launchFullscreen=function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()};window.exitFullscreen=function(a){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()};
window.toggleFullscreen=function(a,b){a?window.launchFullscreen(b):window.exitFullscreen();window.setTimeout(window.onresize(),1E3)};window.update=function(){this.updateCallbacks()};window.resizeCalls=[];window.resizeCallbacks=function(){for(var a=0;a<this.resizeCalls.length;a++)if(this.resizeCalls[a]._resize)this.resizeCalls[a]._resize();else this.resizeCalls[a]()};window.changeResolution=function(a){window.app.resolution=a;window.setTimeout(window.onresize(),1E3)};window.app.vscode={_fileLocal:"https://rawgit.com/leroyron/timeline-jscode/master/"};
var Streaming=function(a,b){Streaming=function(a){this.open=this.open||function(){this.build=function(a){try{this.stream=this.bindings.stream,this.nodesPerStream=this.bindings.nodesPerStream,this.propsPerNode=this.bindings.propsPerNode,this.propsPerNodeList=this.bindings.propsPerNodeList,this.propDataLength=this.bindings.propDataLength,this.continuancePosValData0=1,this.data0PropDataLength=this.continuancePosValData0+this.propDataLength,this.nodeDataLength=this.data0PropDataLength*this.propsPerNode+
this.propsPerNode+1,this.proxy=this.bindings.proxy,this.data=this._prebuff(this.bindings.data),this.bindings.stream=this.bindings.nodesPerStream=this.bindings.propsPerNode=this.bindings.propsPerNodeList=this.bindings.propDataLength=this.bindings.data=null,delete this.bindings.stream,delete this.bindings.nodesPerStream,delete this.bindings.propsPerNode,delete this.bindings.propsPerNodeList,delete this.bindings.propDataLength,delete this.bindings.state,delete this.bindings.data,this._finalize(a)}catch(c){console.log("Streaming: No bindings - ref: http://")}finally{b(Streaming),
console.log("Streaming - "),console.log("Like what you see? We'er looking for developers! https://github.com/leroyron/timeline-jscode")}};this.access=this.access||function(a,b,d,l,p,h,g,q){var c=a||!0,e=b||0,f=d||0,I=l||0,t=p||!0,u=h||0,n=g||-999999,r=q||!1;this.defaults={};this.nextRuntimeCallback=this.mCount=this.tCount=this.rCount=0;this.runtimeCalls=[];this.ruclen=0;this.runtimeCallbacks=function(a){for(var b=C,d,c=0;c<this.ruclen;c++)(d=this.runtimeCalls[c][1](this.runtimeCalls[c][0]||this.nextRuntimeCallback,
a,0))&&d<b&&(b=d);this.nextRuntimeCallback=b;this.block&&(this.rCount=this.tCount=this.block=0);this.runtimeCallbacks=x};var x=function(a){if(!(a+this.data[2]<=this.nextRuntimeCallback||a+this.data[2]>C)){for(var b=C,d,c=0;c<this.ruclen;c++)(d=this.runtimeCalls[c][1](this.runtimeCalls[c][0]||this.nextRuntimeCallback,a,this.data[2]))&&d<b&&(b=d);this.nextRuntimeCallback=b;this.block&&(this.rCount=this.tCount=this.block=0)}};this.revertCalls=[];this.rrclen=0;this.revertCallbacks=function(a,b){for(var d=
C,c,h=0;h<this.rrclen;h++)(c=this.revertCalls[h][1](this.revertCalls[h][0]||a,b))&&c<d&&(d=c);this.nextRuntimeCallback=d};this._update=function(a,b,d,h,g,k,x,q){c=a;e=b;f=d;I=h;t=g;u=k;n=x;r=q;this.updateCallbacks()};this.updateCalls=[];this.upclen=0;this.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};var v="stream",J,z,N,C,k,D,U,V;this._finalize=function(a){v=this.stream;J=this.nodesPerStream;z=this.propsPerNode;N=this._prebuff(this.propsPerNodeList);
C=this.propDataLength;k=this.continuancePosValData0;D=this.data0PropDataLength;U=this.nodeDataLength;this.nodesPerStream=this.propsPerNode=this.data0PropDataLength=delete this.nodesPerStream;delete this.propsPerNode;delete this.propsPerNodeList;delete this.data0PropDataLength;V=this.data.length;this.updateCallbacks();a()};this.revertFromTo=function(a,b){this.propDataLength=C=a;this.continuancePosValData0=k=b+1};this._reversion=function(a){return a-C*(a/C<<0)+k};this._resetLeap=function(){E=this.bindings.ids["_bi"+
A];H=E[L];Q=E.node[v][H.binding].leapNext;if(W=E.node[v][H.binding].leap)for(var a=W.length,b=0;b<a;b++)if(W[b]){E.node[v][H.binding].leapNext=b;break}};this.method=this.option="Change the streaming process";this._process=function(a,b,d){switch(this.option){case "thrust":this.tCount=a+I;this.runtimeCallbacks(this.tCount);switch(this.method){case "all":this._thrustAll(this.tCount);break;case "nodes":this._thrustNodes(this.tCount,d);break;case "properties":this._thrustProperties(this.tCount,d);break;
case "mix":this._thrustMix(this.tCount,d);break;default:this._thrustAll(this.tCount)}break;case "read":this.rCount=a+f;this.runtimeCallbacks(this.rCount);switch(this.method){case "all":this._readAll(this.rCount);break;case "nodes":this._readNodes(this.rCount,d);break;case "properties":this._readProperties(this.rCount,d);break;case "mix":this._readMix(this.rCount,d);break;default:this._readAll(this.rCount)}break;case "measure":switch(this.mCount=a+u,this.runtimeCallbacks(this.mCount),this.method){case "all":return[this._measureAll(this.mCount)];
case "nodes":return[this._measureNodes(this.mCount,d)];case "properties":return[this._measureProperties(this.mCount,d)];case "mix":return[this._measureMix(this.mCount,d)];default:return[this._measureAll(this.mCount)]}}};this.output_utilizeMeasureData=this.output_utilizeThrustData=this.output_utilizeReadData="Data entry portal for execute, ref this to outer functions";var m=0,G=0,M=0,K=0,R=0,S=0,B,y,O,A=0,L=0;this._currentDataPos=function(){return this.data[2]};this._checkInContinuance=function(){if(!c)return m;
m+=this.data[y];this._updateDataPos();return m};this._updateDataPos=function(a){a=a||m;B=a-M-S;y=a-B};this._checkOutRevert=function(a){return t?this.data[y]=B=this._reversion(B+(a||e)):m};this._checkOutRevertCallback=function(a){if(!t)return m;this.data[y]=B=this._reversion(B+(a||e));this.output_revertCall(k);this.revertCallbacks(k,B);return B};this.output_revertCall="Data entry portal for execute, ref this to outer functions";var E,H,Q,W;this._callOutLeap=function(a){var b=E.node[v][H.binding].leap;
if(b[Q]){var d=b[E.node[v][H.binding].leapNext],c=d.dataPosI;this.data[c]=d.dispose?d.zeroIn?d.zeroIn:this.data[c+1]:this.arguments.leap;d.callback.apply(E.node[v]);d.dispose&&(E.node[v][H.binding].leapNext=void 0,b[Q]=null,delete b[Q]);d=b.length;for(c=Q+1;c<d;c++)b[c]&&(E.node[v][H.binding].leapNext=c,c<=a&&(Q=c,this._callOutLeap(c)))}};this._readAll=function(a){for(K=M=R=G=m=0;m<V;m++)if(0==(m-G)%U&&(A=this.data[m],N[A]&&(m-G!=G&&(G=m,R=m%D,K=0),z=N[A],U=D*z+z+1),m++,M=1,K++),(m-K)%D==R&&(S=m-
M,L=this.data[m],m++,M++,K++,B=m-M-S,y=m-B,O=y+(D-B-1),r&&(this.data[y]=k),m=this._checkInContinuance()),-1==A)m=O,this._updateDataPos();else if(B+a>C-1)t&&(101!=A?this._checkOutRevert(a):this._checkOutRevertCallback(a)),this._resetLeap();else if(0<a)E=this.bindings.ids["_bi"+A],H=E[L],Q=E.node[v][H.binding]?E.node[v][H.binding].leapNext:E.node[v][H.property].leapNext,this.output_utilizeReadData(this._dataVal(a),A,L);else break};this._dataVal=function(a){var b=this.data[m];a=B+a;var d=y+a;a>=Q?(c&&
(this.data[y]=a),this._callOutLeap(a)):(m=d,this._updateDataPos(),this.data[y]=a,b=this.data[m]);m=O;this._updateDataPos();return b};this._thrustAll=function(a){for(K=M=R=G=m=0;m<V;m++)if(0==(m-G)%U&&(A=this.data[m],N[A]&&(m-G!=G&&(G=m,R=m%D,K=0),z=N[A],U=D*z+z+1),m++,M=1,K++),(m-K)%D==R&&(S=m-M,L=this.data[m],m++,M++,K++,B=m-M-S,y=m-B,O=y+(D-B-1),r&&(this.data[y]=k),m=this._checkInContinuance()),-1==A)m=O,this._updateDataPos();else if(B+a>C-1)t&&(101!=A?this._checkOutRevert(a):this._checkOutRevertCallback(a)),
this._resetLeap();else if(0<a)E=this.bindings.ids["_bi"+A],H=E[L],Q=E.node[v][H.binding]?E.node[v][H.binding].leapNext:E.node[v][H.property].leapNext,this.output_utilizeThrustData(this._dataSum(a),A,L);else break};this._dataSum=function(a){var b=0;var d=B+a;var h;d>=Q&&(c&&(this.data[y]=d),this._callOutLeap(d));for(var g=0;g<a;g++)d=g+1,d=B+d,m=h=y+d,b+=this.data[m];this.data[y]=d;m=O;this._updateDataPos();return b};var X=0,T;this._measureAll=function(a){T=new Int32Array(new ArrayBuffer(a*z+z+4*J));
for(K=M=R=G=m=0;m<V;m++)if(0==(m-G)%U&&(A=this.data[m],N[A]&&(m-G!=G&&(G=m,R=m%D,K=0),z=N[A],U=D*z+z+1),m++,M=1,K++),(m-K)%D==R&&(S=m-M,L=this.data[m],T[X++]=L,m++,M++,K++,B=m-M-S,y=m-B,O=y+(D-B-1),r&&(this.data[y]=k),m=this._checkInContinuance()),-1==A)m=O,this._updateDataPos();else if(B+a>C-1)t&&(101!=A?this._checkOutRevert(a):this._checkOutRevertCallback(a)),this._resetLeap();else if(0<a)E=this.bindings.ids["_bi"+A],H=E[L],Q=E.node[v][H.binding]?E.node[v][H.binding].leapNext:E.node[v][H.property].leapNext,
this.output_utilizeMeasureData(this._dataReturn(a),A,L);else return;return T};this._dataReturn=function(a){var b=B+a;var d;b>=Q&&(c&&(this.data[y]=b),this._callOutLeap(b));for(var h=0;h<a;h++)b=h+1,b=B+b,m=d=y+b,T[X++]=this.data[m];this.data[y]=b;m=O;this._updateDataPos()};this._syncOffsets=function(a){var b=0;for(K=M=R=G=m=0;m<V;m++)0==(m-G)%U&&(A=this.data[m],N[this.data[m]]&&(m-G!=G&&(G=m,R=m%D,K=0),z=N[this.data[m]],U=D*z+z+1),m++,M=1,K++),(m-K)%D==R&&(S=m-M,L=this.data[m],m++,M++,K++,B=m-M-S,
y=m-B,O=y+(D-B-1),r&&(this.data[y]=k),m=this._checkInContinuance(),b=this.bindings.ids["_bi"+A],b=a+b.node[this.stream][b[L].binding]._shift,b>C&&(b=this._reversion(b))),this.data[y]=b,m=O,this._updateDataPos()};this.arguments={continuance:c,skip:e,rCount:f,tCount:I,revert:t,mCount:u,leap:n,reset:r,_accessed:!0};return this};this._prebuff=function(a){for(var b=a.length,d=new Int32Array(new ArrayBuffer(4*b)),e=0;e<b;e++)d[e]=a[e];return d};this.access.prototype.length=this.length};this.constructor.prototype.length=
this.constructor.prototype.length||a;this.open.prototype.length=this.constructor.prototype.length;return this.open()};a(Streaming);return Streaming}(function(a){var b=a.prototype;b.addon={};b.open=function(){var d=this.open.prototype;d.addon=this.addon;b.open=void 0;var c=new a;c._access=c.access;c._access.prototype.addon=d.addon;c.access=function(){this.access=this._access;var a=this.access.apply(this,arguments),b;for(b in this.addon)for(var d in this.addon[b])if("access"==d)this.addon[b][d]=a;else for(var c in this.addon[b][d])"accessRuntime"==
c&&(a.runtimeCalls.push([0,this.addon[b][d].runtime]),a.ruclen++),"accessRevert"==c&&(a.revertCalls.push([0,this.addon[b][d].revert]),a.rrclen++),"accessUpdate"==c&&(a.updateCalls.push([0,this.addon[b][d].update]),a.upclen++);return a};return c};var d=b.addon.runtime={access:void 0,system:function(){var a=this.constructor,b,d,c,e,f,I,t,u,n,r,x,v;this.update=function(){return this};this.proxy=function(){return this};this.init=function(){return this};this.Pointer=function(){b=a.pointer;this.Pointer=
new b;return this};this.Knob=function(){d=a.knob;this.Knob=new d;return this};this.Subject=function(){c=a.subject;this.Subject=new c;return this};this.Marquee=function(){if(b||d||c)return e=a.marquee,this.Marquee=new e,this;console.log("System Marquee: No - Pointer, Knob or Subject detected")};this.Grid=function(){if(b||d||c)return f=a.grid,this.Grid=new f,this;console.log("System Grid: No - Pointer, Knob or Subject detected")};this.Parallax=function(){if(f)return I=this.Grid.parallax,this.Parallax=
new I,this;console.log("System Parallax: No - Grid system detected")};this.Entity=function(){if(I)return t=this.Parallax.entity,this.Entity=new t,this;console.log("System Entity: No - Parallax system detected")};this.Physic=function(){if(I)return u=this.Parallax.physic,this.Physic=new u,this;console.log("System Physic: No - Parallax system detected")};this.Bound=function(){if(I)return n=this.Parallax.bound,this.Bound=new n,this;console.log("System Bound: No - Parallax system detected")};this.Collision=
function(){if(I)return r=this.Parallax.collision,this.Collision=new r,this;console.log("System Collision: No - Parallax system detected")};this.Particle=function(){if(t||u||n||r)return x=this.Parallax.particle,this.Particle=new x,this;console.log("System Particle: No - Entity, Physic, Bound or Collision detected")};this.Rig=function(){if(t||u||n||r)return v=this.Parallax.rig,this.Rig=new v,this;console.log("System Rig: No - Entity, Physic, Bound or Collision detected")};return this instanceof a?this.That:
new a}};b.addon.runtime.system.pointer=function(){var a=this.constructor,b={},d={},c={};this.bind=function(a,c){b=a;d=c;return this};this.result=function(a){c=a;return this};this.init=function(){d.onmousedown=d.ontouchstart=function(a){a.preventDefault();if(b.enabled)if(a.changedTouches)for(var d=0,h=a.changedTouches.length;d<h;d++)e(!0,b,a.changedTouches[d].identifier,a,this,function(a){c(a)});else e(!1,b,0,a,this,function(a){c(a)})};d.onmousemove=d.ontouchmove=function(a){a.preventDefault();if(b.inUse)if(a.changedTouches)for(var d=
0,h=a.changedTouches.length;d<h;d++)e(!0,b,a.changedTouches[d].identifier,a,this,function(a){c(a)},!0);else e(!1,b,0,a,this,function(a){c(a)},!0);else a.changedTouches||e(!1,b,0,a,this,function(a){c(a)},!0)};d.onmouseup=d.ontouchend=function(a){a.preventDefault();if(b.enabled)if(a.changedTouches)for(var d=0,h=a.changedTouches.length;d<h;d++){if(!f(a.targetTouches,a.changedTouches[d].identifier)){var g=a.changedTouches[d].identifier;e(!0,b,g,a,this,function(a){c(a)});delete b[g]}}else e(!1,b,0,a,this,
function(a){c(a)}),b.inUse=!1,delete b[0]};return this};var e=function(a,d,c,h,e,x,g){d[c]=h;d[c].normal={};d[c].viewport={};if(a)if(h.targetTouches[c])var f=h.targetTouches[c];else if(console.log("touch missed"),h.changedTouches[c])f=h.changedTouches[c];else{console.log("exiting");return}else f=h;d[c].normal.x=(f.pageX-e.offsetLeft)/e.clientWidth;d[c].normal.y=(f.pageY-e.offsetTop)/e.clientHeight;d[c].viewport.x=2*d[c].normal.x-1;d[c].viewport.y=2*-d[c].normal.y+1;x(d[c]);if(!g){if("mousedown"==
h.type||"touchstart"==h.type)b.inUse=!0;if("mouseup"==h.type||"touchend"==h.type)b.inUse=!1;a&&(b.multi=!1,0==f.length?b.inUse=!1:1<f.length&&(b.multi=!0));d[c].area=0<f.pageX?"right":"left"}},f=function(a,b){for(var d=0,c=a.length;d<c;d++)if(a[d].identifier===b)return!0;return!1};return this instanceof a?this.That:new a};b.addon.runtime.system.knob=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof
a?this.That:new a};b.addon.runtime.system.subject=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.marquee=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid=function(){var a=this.constructor;
this.layers={};var b=[],d=[],c=0,e={};this.update=function(){return this};this.mode=function(a){return this};this.dir=function(a){this.dir=a;return this};this.batches=function(){b=arguments;return this};this.offsets=function(){d=arguments;return this};this.properties=function(a){c=a.count;this.name=a.name;this.columns=a.columns;this.rows=a.rows;e.width=a.width;e.height=a.height;return this};this.syntax=function(a){this.syntax=a;return this};this.assign=function(a){this.assign=a;return this};this.init=
function(){for(var a=0;a<b.length;a++){this.batch={name:b[a],index:a};this.layers[this.batch.name]={offset:d[a],update:this.update,grid:[]};for(var h=0;h<c;h++){var f=h/this.columns<<0,g=h-f*this.columns;this.layers[this.batch.name].grid[g]||(this.layers[this.batch.name].grid[g]=[]);this.layers[this.batch.name].grid[g][f]={};this.layers[this.batch.name].grid[g][f]=this.assign(this.syntax(h),h,this.batch,g,f,e,this.layers[this.batch.name].grid[g][f])}}return this.layers};for(var f in a)this[f]=a[f];
return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax=function(){var a=this.constructor;this.update=function(){return this};this.field=function(a){return this};this.separation=function(){return this};this.update=function(){return this};this.func=function(){return this};this.move=function(){return this};this.init=function(){return this};for(var b in a)this[b]=a[b];return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.entity=function(){var a=this.constructor;
this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.physic=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.bound=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};
this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.collision=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.particle=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof
a?this.That:new a};b.addon.runtime.system.grid.parallax.rig=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.binding=function(){var a=b.addon.binding={};a.init=function(){if(!d.access)return this.queue.apply(this,arguments);d.access.defaults.relative=d.access.defaults.relative||!1;d.access.bindings=d[arguments[0]]=d[arguments[0]]||{stream:arguments[0],data:[],
nodesPerStream:0,propsPerNode:arguments[3]?arguments[3].length:arguments[2]?arguments[2].length:0,propDataLength:b.length,propsPerNodeList:[],state:"prebuff",continuancePosValData0:1,reversion:function(a){return a-this.propDataLength*(a/this.propDataLength<<0)+this.continuancePosValData0},proxy:0};0===d[arguments[0]].proxy&&(d[arguments[0]].proxy++,d[arguments[0]].proxy=this.proxy());var c=d.access.bindings.propsPerNodeList,e=c.length-1;d[arguments[0]].nodesPerStream+=arguments[1].length;var h=arguments[0],
g=d[h];g.length=g.length||b.length;g.ids=g.ids||{};var q=arguments[1],r=b.length;q[0][0].type=q[0][0].type?"translation"==q[0][0].type||"radian"==q[0][0].type||"poly"==q[0][0].type||"uniform"==q[0][0].type||"position"==q[0][0].type||"rotation"==q[0][0].type||"scale"==q[0][0].type||"f"==q[0][0].type||"Vector3"==q[0][0].constructor.name||"Euler"==q[0][0].constructor.name?q[0][0].type:arguments[2][0][0]:arguments[2][0][0];var k=q[0][0].type=Math.Type.identify(q[0][0]);a.buffIdKey=a.buffIdKey||800;a.propIdKey=
"radian"==k?806:801;for(var D=arguments[5]||Math.Type.precision(k),w=arguments[4]||d.access.defaults.relative,V=[],m={};0<q.length;){m.buffKey=q[0][1]||a.buffIdKey;m.props="poly"==k?Math.Poly.generate(k,arguments[2][0][1],D):Math.Type.convertToPrecisionDataType(k,arguments[2].concat(),1,2,D);var G="poly"==k?Math.Poly.generateKeys(arguments[2][0][1],arguments[3]?arguments[3][arguments[3].length-1]:a.propIdKey):arguments[3]?arguments[3].concat():Math.Poly.generateKeys(arguments[2],arguments[3]?arguments[3][arguments[3].length-
1]:a.propIdKey);c[e]!=G.length&&(c[m.buffKey]=G.length);g.propsPerNode=G.length>g.propsPerNode?G.length:g.propsPerNode;g.ids["_bi"+m.buffKey]=new (function(b){return function(d){q[0][0]=q[0][0]||{};var c=function(){this.binding="_bi"+b.buffKey;this.position=g.data.length;this.relative=w;this.conversion=k;this.precision=D;this.then=f;this.keep=p;this.wait=l;this.hold=P;this.pair=n;this.shift=I;this["break"]=t;this.at=u;var a=this.__proto__||Object.getPrototypeOf(this),d;for(d in a)this[d]=a[d],delete a[d];
return this instanceof c?this.exec:new c};g.data.push(a.buffIdKey=b.buffKey);a.buffIdKey++;for(var e={};0<b.props.length;)e.propKey=d[0]||a.propIdKey,this[e.propKey]=new (function(a){return function(b){if("poly"!=k&&q[0][0][b[0][0]]&&"undefined"!=typeof q[0][0][b[0][0]].value){this.property=b[0][0];var d="value"}else d=b[0][0];this.binding=d;b[0][1]=b[0][1]||0;this.value=b[0][1];"poly"!=k&&q[0][0][b[0][0]]&&"undefined"!=typeof q[0][0][b[0][0]].value?q[0][0][b[0][0]].value="value"==b[0][0]?b[0][1]:
b[0][1]/D:q[0][0][b[0][0]]="value"==b[0][0]?b[0][1]:b[0][1]/D;c.prototype[b[0][0]]=function(a,b,d,c,e,h,f,k){this.then(a,b,d,c,e,h,f,k,this);return this};c.prototype[b[0][0]].lastOffset=c.prototype[b[0][0]]._shift=0;c.prototype[b[0][0]].lastVal=void 0;c.prototype[b[0][0]].binding=a.propKey;c.prototype[b[0][0]].data0PosI=g.data.length+1;c.prototype[b[0][0]].node=q[0][0];c.prototype[b[0][0]].then=function(a,b,d,c,e,f,k,g){this.node[h].then(a,b,d,c,e,f,k,g,this);return this.node[h]};c.prototype[b[0][0]].keep=
function(a,b,d,c,e){this.node[h].keep(a,b,d,c,e,this);return this.node[h]};c.prototype[b[0][0]].wait=function(a,b,d,c,e,f){this.node[h].wait(a,b,d,c,e,f,this);return this.node[h]};c.prototype[b[0][0]].hold=function(a,b,d,c,e,f){this.node[h].hold(a,b,d,c,e,f,this);return this.node[h]};c.prototype[b[0][0]].pair=function(a,b,d,c,e,f){this.node[h].pair(a,b,d,c,e,f,this);return this.node[h]};c.prototype[b[0][0]].shift=function(a,b,d,c,e,f){this.node[h].shift(a,b,d,c,e,f,this);return this.node[h]};c.prototype[b[0][0]]["break"]=
function(a,b,d,c,e,f){this.node[h]["break"](a,b,d,c,e,f,this);return this.node[h]};c.prototype[b[0][0]].at=function(a,b,d,c,e,f){this.node[h].at(a,b,d,c,e,f,this);return this.node[h]};g.data.push(a.propKey);g.data.push(1);for(d=0;d<r;d++)b[0][2]?w?g.data.push((b[0][2]-b[0][1])/r):g.data.push(b[0][1]+(b[0][2]-b[0][1])/r*d):w?g.data.push(0):g.data.push(b[0][1])}}(e))(b.props),d.shift(),b.props.shift(),a.propIdKey=e.propKey,a.propIdKey++,e={propKey:e.propKey};q[0][0][h]=new c;delete q[0][0].type;this.node=
q[0][0];V.push(this.node)}}(m))(G);q.shift();m={buffKey:m.buffKey,props:m.props}}return V};a.list=[];a.queue=function(){var b=arguments[1];b[0][0]=b[0][0]||{};b[0][0].type=b[0][0].type?"translation"==b[0][0].type||"radian"==b[0][0].type||"poly"==b[0][0].type||"uniform"==b[0][0].type||"position"==b[0][0].type||"rotation"==b[0][0].type||"scale"==b[0][0].type||"f"==b[0][0].type||"Vector3"==b[0][0].constructor.name||"Euler"==b[0][0].constructor.name?b[0][0].type:arguments[2][0][0]:arguments[2][0][0];
var d=b[0][0].type=Math.Type.identify(b[0][0]),c=[],e=0,f="poly"==arguments[2][0][0]?arguments[2][0][1].length:arguments[3]?arguments[3].length:arguments[2]?arguments[2].length:0;a.list=a.list;for(a.list[f]=a.list[f]||[];b.length>e;){for(var h="poly"==d?Math.Poly.generate(d,arguments[2][0][1],1):arguments[2],k=0;h.length>k;)"poly"!=d&&b[e][0][h[k][0]]&&"undefined"!=typeof b[e][0][h[k][0]].value?b[e][0][h[k][0]].value=h[k][1]:"poly"!=d&&(b[e][0][h[k][0]]=h[k][1]),k++;this.node=b[e][0];c.push(this.node);
e++}a.list[f].push(arguments);return c};a.proxy=function(){var a={value:0};this.init("timeline",[[a,101]],[["value",0,b.length]],[102],!1,1);return a};a.run=function(b,d){console.log("Binding objects to stream - Running queue");for(var c=a.list;0<c.length;){if(c[c.length-1])for(var e=c[c.length-1],h=0;h<e.length;h++)a.init.apply(this,e[h]);c.pop()}b&&b()};this.execBinding=this.execNode=0;var e=function(a,b,c){b=c.node?c:a[b].caller;c=d.access;a.execNode=c.bindings.ids[a.binding].node||a.execNode;
a.execBinding=b?c.bindings.ids[a.binding][b.binding].binding:a.execBinding;a.execData0PosI=a.execNode[c.stream][a.execBinding].data0PosI;a.execByteOffset=c.data[a.execData0PosI];a.execLastOffset="undefined"!=typeof b.lastOffset?b.lastOffset:a.execLastOffset;a.value=a.execLastVal="undefined"!=typeof b.lastVal?b.lastVal:a.execNode[a.execBinding];a.array=a.array||new Int32Array(new ArrayBuffer(4*d.access.propDataLength));return a},f=function(a,b,h,f,g,q,k,u,n){a&&b&&h&&(n=n?e(this,"then",n):this,k=k||
d.access.data[n.execDataPosI],c.exec("timeline",[[[n.execNode],[[n.execLastOffset,n.execBinding,a,n.execLastVal,b,h]]]],!1,void 0,void 0,f,g,q,k,"undefined"==typeof u?!0:u),n.execLastOffset+=h,n.execLastVal+=a);return n},p=function(a,b,c,h,f,g){g=g?e(this,"keep",g):this;a=g.execData0PosI+1+d.access.propDataLength;g.execDataPos=g.execLastOffset||0;g.execDataPos=g.execDataPos<d.access.propDataLength?g.execDataPos:d.access._reversion(g.execDataPos);g.execDataPosI=g.execData0PosI+g.execDataPos;g.value=
d.access.data[g.execDataPosI];d.access.data.fill(g.value,g.execDataPosI,a);g.value/=g.precision;return g},l=function(a,b,d,h,f,g,k){a&&(k=k?e(this,"wait",k):this,c.valIn("timeline",[k.execNode],[k.execBinding],k.execLastVal,k.execLastOffset,k.execLastOffset+a,void 0,void 0,b,d,h,f,"undefined"==typeof g?!0:g),k.execLastOffset+=a);return k},P=function(a,b,h,f,g,q,k){if(a){k=k?e(this,"hold",k):this;k.execDataPos=k.execLastOffset||k.execByteOffset;k.execDataPos=k.execDataPos<d.access.propDataLength?k.execDataPos:
d.access._reversion(k.execDataPos);k.execDataPosI=k.execData0PosI+k.execDataPos;k.value=d.access.data[k.execDataPosI];var n=k.execData0PosI+1,u=n+d.access.propDataLength;if(a>=d.access.propDataLength)r(k.value,n,u);else{k=I.apply(k,[-a,b,h,f,g,q]);var t=k.execDataPosI+a;t>u?(t-=d.access.propDataLength,g=d.access.data[t],k.array.set(d.access.data.slice(n,t),0),r(k.value,n,t),k.array.set(d.access.data.slice(k.execDataPosI,u),k.execDataPosI-n),r(k.value,k.execDataPosI,u),b&&c.assignLeap("timeline",[k.execNode],
[k.execBinding],!0,t-n,b,h,f,g,!0)):(g=d.access.data[t],k.array=d.access.data.slice(k.execDataPosI,t),r(k.value,k.execDataPosI,t),b&&c.assignLeap("timeline",[k.execNode],[k.execBinding],!0,t-n,b,h,f,g))}k.execLastOffset=t||k.execDataPos}return k},I=function(a,b,c,h,f,g,k){a=0<a?a:d.access._reversion(d.access.propDataLength+a);k?(k._shift=a,k=e(this,"shift",k)):(k=this,k[k.execBinding]._shift+=a);k.execDataPos=k.execByteOffset+a;k.execDataPos=k.execDataPos<d.access.propDataLength?k.execDataPos:d.access._reversion(k.execDataPos);
d.access.data[k.execData0PosI]=k.execByteOffset=k.execDataPos;k.execDataPosI=k.execData0PosI+k.execDataPos;return k},t=function(a,b,c,h,f,g,k){k=k?e(this,"break",k):this;k.execDataPos=a||k.execByteOffset;k.execDataPos=k.execDataPos<d.access.propDataLength?k.execDataPos:d.access._reversion(k.execDataPos);k.execLastOffset+=a||0;return k},u=function(a,b,h,f,g,q,k){g=k._shift;k=k?e(this,"at",k):this;k.execDataPos=a||k.execByteOffset;k.execDataPos+=g;k.execDataPos=k.execDataPos<d.access.propDataLength?
k.execDataPos:d.access._reversion(k.execDataPos);k.execDataPosI=k.execData0PosI+k.execDataPos;g=d.access.data[k.execDataPosI];k.execLastOffset+=k.execDataPos||0;b&&c.assignLeap("timeline",[k.execNode],[k.execBinding],!0,a,b,h,f,g,!0);k.value=g/k.precision;return k},n=function(a,b,c,h,f,g,k){k=k?e(this,"at",k):this;b=k.execData0PosI+1;for(c=0;c<a.length;c++)d.access.data[b+c]=a[c]?a[c]:d.access.data[b+c];return k},r=function(a,b,c){d.access.defaults.relative?d.access.data.fill(0,b,c):d.access.data.fill(a,
b,c)};return a};var e=b.addon.binding();b.addon.buffer=function(){var a=b.addon.buffer={evals:0};a.update=function(){this.updateCallbacks()};a.updateCalls=[];a.upclen=0;a.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};a.presets=function(a){for(var b in a)p.presets[b]=a[b]};var c,e,f,p={presets:{}},l=function(a,b,d){for(var c=this.CSPL||{},e=p.presets[a].CPs,f=p.presets[a].duration,g=p.presets[a].precision,h=e.length,q=[],n=0;n<h;n++)q[n]={t:e[n].t/
f*b,p:e[n].p/g*d||e[n].p};b=[];e=[];f=[];for(g=0;g<h;g++)n=q[g],b[g]=n.t,e[g]=n.p,f[g]=1;c.getNaturalKs(b,e,f);g=q[0].t;h=q[h-1].t;for(q=new Int32Array(new ArrayBuffer(4*h));g<=h;g++)q[g]=c.evalSpline(g,b,e,f);return[q,d||p.presets[a].precision]};a.eval=function(b,g,h,q,p,v,w,z,N,C){d.access.defaults.relative=d.access.defaults.relative||!1;h=h||d.access.defaults.relative;for(var k=[],n=0,u=g.length;n<u;n++)for(var r=g[n],m=r[0],t=m.length,x=r[2],K=x.length,J=r[3],P=[],B=0;B<t;B++){for(var y=m[B],
F=r[1],A=0,L=F.length;A<L;A++){c=0;if(J)if(1==J)c-=f;else if(1<J||1>J)c+=J;e=0;var E=F[A];P[A]=F[A][0];for(var H=0,Q=E.length;H<Q;H++){var W=E[H];P[A]=W[0];for(var X=0,T=0;T<K;T++)x[T][1]<<=0,X+=x[T][1];for(T=0;T<K;T++){var Y=x[T];f=Y[1];W[2]=f/X*W[1];W[2]=Math.Type.convertToPrecisionType(y[b].conversion,W[2]);I(b,y,W,l(Y[0],f,q||f),h,C);c+=f;e+=W[2]}}}v&&a.assignLeap(b,[y],P,!1,c,v,w,z,N);p&&(k[B]=a.getData(b,[y],P,p))}a.evals+=t*K;a.update();return k};a.exec=function(b,g,h,q,p,v,w,z,N,C){d.access.defaults.relative=
d.access.defaults.relative||!1;h=h||d.access.defaults.relative;for(var k=[],n=0,u=g.length;n<u;n++){var r=g[n],m=r[0];r=r[1];for(var t=[],x=0,P=m.length;x<P;x++){for(var J=m[x],F=e=c=0,B=r.length;F<B;F++){var y=r[F],O=y[0],A=[t[F]=y[1],y[2]],L=[y[4],y[5]];e+=Math.Type.convertToPrecisionType(J[b].conversion,y[3])||0;c=0;if(O)if(1==O)c-=f;else if(1<O||1>O)c+=O;f=L[1];A[2]=Math.Type.convertToPrecisionType(J[b].conversion,A[1]);I(b,J,A,l(L[0],f,q||f),h,C,!0);c+=f}v&&a.assignLeap(b,[J],[t],!1,c,v,w,z,
N);p&&(k[x]=a.getData(b,[J],[t],p))}a.evals+=r.length}a.update();return k};a.execLerp=function(b,c,e,f,g,h,q,p,w,C,k,D,I,P,m,G,F,K,R,S){h="prebuff"==d[b].state?d[b]:d.access;p=h.propDataLength+1;f=f[b][g].data0PosI;k-=C;D=l(D||"linear",k,k);I=I||1;if(c&&e)for(g=0,w=c.length;g<w;g++)for(var n=c[g][b],u=0,r=e.length;u<r;u++)for(var t=n[e[u]].data0PosI,x=h.data[t+C+1],v=0;v<k;v++){var z=C+v;z=z<p?z:h._reversion(z);var J=t+z;S&&h.data[J+1]==h.arguments.leap||(z=Math.lerpSubject(x,h.data[f+z+1],q*(1-(D[1]-
D[0][v])/D[1])),x-=z,h.data[J+1]=x*I)}G&&a.assignLeap(b,[c[0]],e,P,m,G,F,K,R);a.evals+=c.length*e.length;a.update()};a.assignLeap=function(a,b,c,e,f,g,h,q,p,l){for(var k="prebuff"==d[a].state?d[a]:d.access,n=k.propDataLength+1,u=0,r=b.length;u<r;u++)for(var m=b[u][a],t=0,x=c.length;t<x;t++){var w=m[c[t]],v=w.data0PosI,z=k.data[v],C=e?f:z+f;C=C<n?C:k._reversion(C);v+=C;k.data[v]=k.arguments.leap;if(w.leap){if(h){var I=w.leap[C].dataPosI;k.data[I]=0}}else w.leap=[];w.leap[C]={callback:g,dispose:"undefined"==
typeof q?!0:q,zeroIn:p,dataPosI:v};l||w.leapNext&&!(C<w.leapNext&&C>z)||(w.leapNext=C)}};var I=function(b,f,g,h,q,p,l){var n=f[g[0]].value?"value"==g[0]?f[g[0]].value:f[g[0]].value*f[b].precision:"value"==g[0]?f[g[0]]:f[g[0]]*f[b].precision;n=l?e:n+e;f=f[b][g[0]].data0PosI;b="prebuff"==d[b].state?d[b]:d.access;l=b.data[f];l+=c;var u=b.propDataLength+1;g=g[2];var r=h[0];h=h[1];for(var k=r.length,t=0;t<k;t++){var w=l+t;w=w<u?w:b._reversion(w);w=f+w;p&&b.data[w]==b.arguments.leap||(b.data[w]=q?b.data[w]+
((r[t]-(r[t+1]||0))/(h/g)<<0):n+(h-r[t])/h*g<<0)}a.update()};a.zeroOut=function(a,b,c,e,f,g){var h="prebuff"==d[a].state?d[a]:d.access,q=h.propDataLength+1;c-=b;if(e&&f)for(var n=0,u=e.length;n<u;n++)for(var k=e[n][a],r=0,p=f.length;r<p;r++)for(var t=k[f[r]].data0PosI,m=0;m<c;m++){var l=b+m;l=l<q?l:h._reversion(l);l=t+l;g&&h.data[l+1]==h.arguments.leap||(h.data[l+1]=0)}else for(n in h.bindings.ids)for(u in e=h.bindings.ids[n].node[a],e)if(e[u].data0PosI)for(f=e[u].data0PosI,k=0;k<c;k++)r=b+k,r=r<
q?r:h._reversion(r),r=f+r,g&&h.data[r+1]==h.arguments.leap||(h.data[r+1]=0)};a.valIn=function(b,c,e,f,g,h,q,p,l,w,k,I,P,F){var n="prebuff"==d[b].state?d[b]:d.access,r=n.propDataLength+1;if(c&&e)for(var u=0,t=c.length;u<t;u++){var x=c[u][b];q=q||x.precision;for(var v=0,C=e.length;v<C;v++)for(var z=x[e[v]].data0PosI,D=h-g,N=0;N<D;N++){var J=g+N;J=J<r?J:n._reversion(J);J=z+J;F&&n.data[J+1]==n.arguments.leap||(n.data[J+1]=Math.Type.convertToPrecisionType(x.conversion,f,q))}}w&&a.assignLeap(b,[c[0]],e,
p,l,w,k,I,P)};a.getforwardData=function(a,b,c,e,f){for(var g="prebuff"==d[a].state?d[a]:d.access,h=g.propDataLength+1,q=[],n=0,r=b.length;n<r;n++){var k=b[n][a];q[n]={};for(var u=0,p=c.length;u<p;u++)for(var l=c[u],m=k[l].data0PosI,t=g.data[m]+2,w=q[n][l]=0;w<e;w++){var x=t+w;x=x<h?x:g._reversion(x);x=m+x;f&&g.data[x+1]==g.arguments.leap||(q[n][l]+=g.data[x+1]/k.precision)}}return q};a.injectData=function(a,b,c,e,f,g,h,q,p){for(var n="prebuff"==d[a].state?d[a]:d.access,k=n.propDataLength,u=0,r=b.length;u<
r;u++){var l=b[u][a];h*=l.precision;q*=l.precision;for(var m=0,t=c.length;m<t;m++){var w=l["poly"==l.conversion?0:c[m]].data0PosI;var x=n.data[w];for(var I=0;I<f;I++){var v=x+I;v=v<k?v:n._reversion(v);if("poly"==l.conversion){var P=0;for(t=e.length;P<t;P++){w=l[P].data0PosI;var F=w+v;p&&n.data[F]==n.arguments.leap||(n.data[F]=g?e[P]*l.precision+n.data[F]:e[P]*l.precision,n.data[F]=n.data[F]<h?h:n.data[F]>q?q:n.data[F])}}else F=w+v,p&&n.data[F]==n.arguments.leap||(n.data[F]=g?e*l.precision+n.data[F]:
e*l.precision,n.data[F]=n.data[F]<h?h:n.data[F]>q?q:n.data[F])}}}};a.list=[];a.queue=function(){a.list=a.list;a.list.push(arguments);return a.list.length-1};a.run=function(b){for(var c=a.list;0<c.length;){var d=Array.prototype.shift.apply(c[0]);a[d].apply(this,c[0]);c.shift()}b&&b()};a.loadData=function(b,c,d,e,f,g){var h=new window.XMLHttpRequest;h.open("GET",c,!0);h.responseType="text";h.callback=e;h.onload=function(){var c=this.response;c=c.split(",");var e=Array.prototype.shift.apply(c),h=Array.prototype.shift.apply(c);
a.buffinData(b,c,d,f||e<<0,g||h<<0);this.callback&&this.callback()};h.send()};a.buffinData=function(a,b,c,e,f){for(var g=d[a].state,h="prebuff"==g?d[a]:d.access,q=1+f,n=0,r=0,k=0;n<b.length;n++){if(0==(n-0)%e){var u=b[n];n++;r=1;k++}if(0==(n-k)%q){var l=b[n];n++;r++;k++}var p="prebuff"==g?h.ids["_bi"+u]:h.bindings.ids["_bi"+u];p=p.node[a][p[l].binding].data0PosI;for(var m=0;m<f;m++)h.data[p+c+m]=b[n],n++}};a.getData=function(b,c,e,f,g,h,q){h="prebuff"==d[b].state?d[b]:d.access;g=g?g<f||g>h.propDataLength?
h.propDataLength:g:h.propDataLength;f=f?g&&f>g||f>h.propDataLength?0:f:0;return a.buffoutData(b,c,e,f,g)};a.saveData=function(a,b){var c=document.createElement("a");document.body.appendChild(c);c.style="display: none";return function(a,b){var d=new window.Blob([[a]],{type:"octet/stream"});d=window.URL.createObjectURL(d);c.href=d;c.download=b;c.click();window.URL.revokeObjectURL(d)}}();a.buffoutData=function(a,b,c,e,f){var g="prebuff"==d[a].state?d[a]:d.access;f-=e;var h=1+f,q=c?h*c.length+c.length+
1:0,n=[q,f];if(b)for(var p=0,k=b.length;p<k;p++){var l=b[p][a];if(!c){c=[];for(var u in l)"undefined"!=typeof b[p][u]&&c.push(u)}0==q&&(q=h*c.length+c.length+1,n=[q,f]);n.push(l.binding.replace("_bi","")<<0);for(var r=0,m=c.length;r<m;r++){var w=l[c[r]];n.push(w.binding);w=w.data0PosI;n.push(g.data[w+e]);for(var t=0;t<f;t++){var F=e+t;F=F<g.propDataLength?F:g._reversion(F);n.push(g.data[w+F+1])}}}return n};return a};var c=b.addon.buffer();b.addon.buffer.ease=function(){var a=b.addon.buffer.ease={};
a.precisions=100;a.update=function(){d=this.precisions;var a=e.precisions,b;for(b in e){for(var f in e[b].CPs)e[b].CPs[f].p=e[b].CPs[f].p/a*d;e[b].duration=e.durations;e[b].precision=d}e.precisions=d;c.presets(e);this.updateCallbacks()};a.updateCalls=[];a.upclen=0;a.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};var d=a.precisions;var e={durations:100,precisions:100,linear:{CPs:[{t:0,p:100},{t:50,p:50},{t:100,p:0}]},easeInSine:{CPs:[{t:0,p:100},
{t:17,p:96},{t:100,p:0}]},easeOutSine:{CPs:[{t:0,p:100},{t:83,p:3},{t:100,p:0}]},easeInOutSine:{CPs:[{t:0,p:100},{t:19,p:92},{t:81,p:8},{t:100,p:0}]},easeInQuad:{CPs:[{t:0,p:100},{t:32,p:89},{t:75,p:44},{t:100,p:0}]},easeOutQuad:{CPs:[{t:0,p:100},{t:17,p:69},{t:74,p:6},{t:100,p:0}]},easeInOutQuad:{CPs:[{t:0,p:100},{t:17,p:93},{t:35,p:75},{t:55,p:40},{t:80,p:7},{t:100,p:0}]},easeInCubic:{CPs:[{t:0,p:100},{t:17,p:99},{t:42,p:92},{t:66,p:71},{t:86,p:35},{t:100,p:0}]},easeOutCubic:{CPs:[{t:0,p:100},{t:15,
p:59},{t:33,p:30},{t:57,p:8},{t:83,p:0},{t:100,p:0}]},easeInOutCubic:{CPs:[{t:0,p:100},{t:22,p:96},{t:38,p:77},{t:50,p:50},{t:64,p:18},{t:82,p:2},{t:100,p:0}]},easeInQuart:{CPs:[{t:0,p:100},{t:21,p:100},{t:42,p:96},{t:63,p:84},{t:82,p:54},{t:92,p:28},{t:100,p:0}]},easeOutQuart:{CPs:[{t:0,p:100},{t:12,p:58},{t:27,p:28},{t:45,p:9},{t:66,p:1},{t:81,p:0},{t:100,p:0}]},easeInOutQuart:{CPs:[{t:0,p:100},{t:15,p:100},{t:28,p:94},{t:41,p:76},{t:50,p:49},{t:57,p:26},{t:68,p:8},{t:84,p:0},{t:100,p:0}]},easeInQuint:{CPs:[{t:0,
p:100},{t:24,p:100},{t:43,p:98},{t:64,p:89},{t:81,p:64},{t:93,p:28},{t:100,p:0}]},easeOutQuint:{CPs:[{t:0,p:100},{t:9,p:61},{t:23,p:26},{t:37,p:10},{t:59,p:1},{t:78,p:0},{t:100,p:0}]},easeInOutQuint:{CPs:[{t:0,p:100},{t:16,p:99},{t:28,p:96},{t:45,p:70},{t:52,p:39},{t:60,p:17},{t:75,p:1},{t:88,p:0},{t:100,p:0}]},easeInExpo:{CPs:[{t:0,p:100},{t:9,p:99},{t:56,p:94},{t:72,p:85},{t:83,p:69},{t:92,p:42},{t:100,p:0}]},easeOutExpo:{CPs:[{t:0,p:100},{t:5,p:70},{t:22,p:21},{t:48,p:3},{t:64,p:1},{t:93,p:0},
{t:100,p:0}]},easeInOutExpo:{CPs:[{t:0,p:100},{t:11,p:99},{t:21,p:99},{t:30,p:96},{t:38,p:90},{t:47,p:67},{t:53,p:33},{t:60,p:12},{t:72,p:2},{t:79,p:0},{t:85,p:0},{t:100,p:0}]},easeInCirc:{CPs:[{t:0,p:100},{t:33,p:94},{t:54,p:83},{t:81,p:58},{t:94,p:35},{t:99,p:10},{t:100,p:0}]},easeOutCirc:{CPs:[{t:0,p:100},{t:1,p:90},{t:6,p:66},{t:14,p:48},{t:26,p:32},{t:41,p:19},{t:60,p:8},{t:79,p:2},{t:100,p:0}]},easeInOutCirc:{CPs:[{t:0,p:100},{t:17,p:97},{t:27,p:92},{t:37,p:83},{t:44,p:74},{t:47,p:67},{t:49,
p:60},{t:50,p:50},{t:51,p:41},{t:53,p:31},{t:57,p:22},{t:62,p:17},{t:71,p:9},{t:82,p:3},{t:100,p:0}]},easeInBack:{CPs:[{t:0,p:100},{t:4,p:100},{t:64,p:100},{t:86,p:53},{t:100,p:0}]},easeOutBack:{CPs:[{t:0,p:100},{t:3,p:86},{t:35,p:1},{t:95,p:0},{t:100,p:0}]},easeInOutBack:{CPs:[{t:0,p:100},{t:3,p:100},{t:46,p:69},{t:51,p:44},{t:56,p:22},{t:97,p:0},{t:100,p:0}]},easeInElastic:{CPs:[{t:0,p:100},{t:8,p:99},{t:15,p:99},{t:22,p:100},{t:32,p:100},{t:41,p:98},{t:47,p:99},{t:63,p:99},{t:74,p:90},{t:93,p:93},
{t:95,p:60},{t:100,p:0}]},easeOutElastic:{CPs:[{t:0,p:100},{t:3,p:65},{t:7,p:2},{t:26,p:11},{t:38,p:0},{t:56,p:1},{t:69,p:0},{t:75,p:0},{t:83,p:0},{t:90,p:0},{t:100,p:0}]},easeInOutElastic:{CPs:[{t:0,p:100},{t:13,p:100},{t:23,p:99},{t:33,p:99},{t:45,p:95},{t:48,p:67},{t:51,p:41},{t:55,p:4},{t:67,p:0},{t:78,p:0},{t:87,p:0},{t:100,p:0}]},easeInBounce:{CPs:[{t:0,p:100},{t:4,p:98},{t:8,p:100},{t:12,p:96},{t:23,p:97},{t:26,p:100},{t:28,p:96},{t:60,p:95},{t:63,p:100},{t:68,p:80},{t:87,p:13},{t:100,p:0}]},
easeOutBounce:{CPs:[{t:0,p:100},{t:15,p:83},{t:28,p:40},{t:33,p:17},{t:36,p:2},{t:38,p:4},{t:71,p:4},{t:73,p:0},{t:77,p:4},{t:88,p:3},{t:91,p:0},{t:94,p:1},{t:100,p:0}]},easeInOutBounce:{CPs:[{t:0,p:100},{t:3,p:98},{t:5,p:99},{t:9,p:97},{t:13,p:99},{t:16,p:94},{t:28,p:94},{t:31,p:98},{t:37,p:77},{t:44,p:55},{t:55,p:46},{t:64,p:19},{t:68,p:1},{t:72,p:6},{t:82,p:7},{t:86,p:0},{t:91,p:3},{t:95,p:0},{t:97,p:1},{t:100,p:0}]}};a.update()};b.addon.buffer.ease();b.addon.timeframe=function(){var a=b.addon.timeframe=
{};a.process=void 0;a.invoke=void 0;a.length=void 0;a.init=!1;a.ready=!1;a.running=!1;a.control=!1;a.lapse=10;a.duration=a._duration=0;a.read=0;a.thrust=0;a.mode="2d";a.runtime=function(){this.runtimeCallbacks()};a.runtimeAuthority=function(a,b,c){d[b].script[c]=a};a.clearRuntimeAuthority=function(a,b){isNaN(b)?d[a].script=[]:d[a].script[b]&&d[a].script.splice(b,1)};a.clearRuntimeAuthoritiesNear=function(a,b,c){this.timeline.removeInsertsNear(a,b,c);var d=b+c;for(b-=c;b<d;b++)this.clearRuntimeAuthority(a,
b)};a.revert=function(a){this.revertCallbacks(a)};a.revertCalls=[];a.rrclen=0;a.revertCallbacks=function(a){for(var b=0;b<this.rrclen;b++)this.revertCalls[b][1](this.revertCalls[b][0],a)};var c=function(b){a.revert(b)};a.update=function(b){e.process=this.process;e.invoke=this.invoke;e.length=this.length;e.running=this.running;e.lapse=this.lapse;this.updateCallbacks&&this.updateCallbacks();"3d"==a.mode?(p(),I()):(l(),t());b=b?b-1:void 0;d.access.option=e.access;d.access.method="all";d.access.rCount=
d.access.tCount=1;b&&a.syncing(b);d.access.output_revertCall=c};a._init=function(a){this.mode=a?a.context?"CanvasRenderingContext2D"==a.context.constructor.name?"2d":"3d":window.canvases?"CanvasRenderingContext2D"==window.canvases["0"].context.constructor.name?"2d":"3d":null:null;this.length=d[d.access.stream].length;this.init=!0};a._forceInit=function(a){window.app.force=!0;window.onresize();this.mode=a?a.context?"CanvasRenderingContext2D"==a.context.constructor.name?"2d":"3d":window.canvases?"CanvasRenderingContext2D"==
window.canvases["0"].context.constructor.name?"2d":"3d":null:null;this.length=d.access.access.prototype.length;this.init=!0};a._ready=function(){this.ready=!0};a.run=function(){!this.running&&this.ready&&(e.now=e._then=Date.now(),this.length=d[d.access.stream]?d[d.access.stream].length:this.length,this.running=!0,this.update(),f())};a.stop=function(a){this.running&&(this.running=!1,this.update(),window.cancelAnimationFrame(e.animationFrameLoop));a&&(this.duration=a,this.syncing())};a.tick=function(a,
b){e.byFrame.exact=a||e.byFrame.exact;e.byFrame.number=b||1;this.running=!1;this.run()};a.keyPauseToggle=function(a){a&&32==a.keyCode&&(this.running?this.stop():this.run())};a.syncing=function(a){d.access._syncOffsets(a||this.duration)};var e={_then:Date.now(),access:"read",_remain:0,lapse:a.lapse,byFrame:{number:0,exact:!1},frame:a},f=function(){e.running&&(window.stats.begin(),e.now=Date.now(),e._delta=e.now-e._then+e._remain,a[e.access]=e._timeFrame=e._delta/10<<0,a._duration=a.duration+e._timeFrame,
e.process(),e._remain=e._delta-10*e._timeFrame,e._then=e.now,0<e._timeFrame&&e._timeFrame<e.lapse&&(a.runtime(),e.byFrame.exact?e.byFrame.exact&&(d.access._process(1),e.byFrame.exact=!1,e.byFrame.number=0,a.stop()):(d.access._process(e._timeFrame),0<e.byFrame.number&&(1==e.byFrame.number&&a.stop(),e.byFrame.number--),a.duration+=e._timeFrame),e.invoke()),e.animationFrameLoop=window.requestAnimationFrame(f),window.stats.end())};a.switchToTimeFrameThrusting=function(a){e.access="thrust";d.access.defaults.relative=
!0;d.access.block=!0;this.update(a)};var p=function(){d.access.output_utilizeThrustData=function(a,b,c){if(0!=a||806==c){b=this.bindings.ids["_bi"+b];var d=b[c];d.value+=a;d.property?b.node[d.property][d.binding]=d.value/b.node[this.stream].precision:b.node[d.binding]=d.value/b.node[this.stream].precision;806==c&&(b.node.blockCallback=!1)}}},l=function(){d.access.output_utilizeThrustData=function(a,b,c){0!=a&&(b=this.bindings.ids["_bi"+b],c=b[c],c.value+=a,c.property?b.node[c.property][c.binding]=
c.value/b.node[this.stream].precision:b.node[c.binding]=c.value/b.node[this.stream].precision)}};a.switchToTimeFrameReading=function(a){e.access="read";d.access.defaults.relative=!0;d.access.block=!0;this.update(a)};var I=function(){d.access.output_utilizeReadData=function(a,b,c){b=this.bindings.ids["_bi"+b];var d=b[c];d.value=a;d.property?b.node[d.property][d.binding]=d.value/b.node[this.stream].precision:b.node[d.binding]=d.value/b.node[this.stream].precision;806==c&&(b.node.blockCallback=!1)}},
t=function(){d.access.output_utilizeReadData=function(a,b,c){b=this.bindings.ids["_bi"+b];c=b[c];c.value=a;c.property?b.node[c.property][c.binding]=c.value/b.node[this.stream].precision:b.node[c.binding]=c.value/b.node[this.stream].precision}};a.resetStreamProperties=function(){d.access.revertFromTo(this.length,0)};window.resizeCalls.push(function(){e.invoke&&e.invoke()});return a};for(var f=b.addon.timeframe(),l=["comment","segment","action","sound"],p={ci:0};p.ci<l.length;p={ci:p.ci},p.ci++)b.addon.timeframe[l[p.ci]]=
function(a){return function(){var b=d[l[a.ci]]={script:[]};b.accessRuntime=void 0;b.runtime=function(a,c,d){if(!f.control){for(c+=d;a<c;a++)b.script[a]&&b.script[a].main();return b.checkNext(c)}};b.accessRevert=void 0;b.revert=function(a,c){if(!f.control)return b.checkNext(a)};b.checkNext=function(a){for(var c=d.access.propDataLength,e=a;e<b.script.length;e++)b.script[e]&&(e<c||c<a)&&(c=e);return c}}}(p),b.addon.timeframe[l[p.ci]]();b.binding=e;b.buffer=c;// Ease of Use------------------------------------------------------------------------------------------------------------------
b.take = function (obj, instructions) {
    obj = obj.constructor === Array ? obj : [obj]
    var queue = []
    var q = -1
    var pairProp = [['position'], ['rotation'], ['rotate'], ['scale', 'uniform']]
    if (instructions) {

    } else {
        for (let oi = 0; oi < obj.length; oi++) {
            for (let pi = 0; pi < pairProp.length; pi++) {
                let pair = pairProp[pi]
                let prop = pair[0]
                let type = pair[1]
                if (obj[oi][prop]) {
                    q++
                    queue[q] = [undefined, [], [], false]
                    queue[q][0] = 'timeline'
                    obj[oi][prop].type = type || prop
                    let node = []
                    let props = []
                    node.push(obj[oi][prop])
                    if (typeof obj[oi][prop].x != 'undefined') props.push(['x', obj[oi][prop].x])
                    if (typeof obj[oi][prop].y != 'undefined') props.push(['y', obj[oi][prop].y])
                    if (typeof obj[oi][prop].z != 'undefined') props.push(['z', obj[oi][prop].z])
                    if (typeof obj[oi][prop].value != 'undefined') props.push(['value', obj[oi][prop].value])
                    queue[q][1] = [node]
                    queue[q][2] = props
                }
            }
        }
    }

    for (let qi = 0; qi < queue.length; qi++) e.queue.apply(this, queue[qi])
}

// Ease of starting
b.ready = function (canvas) {
    e.run(function () { // run the queues
        c.run()
    })
    f._forceInit(canvas)
    this.build()
}

// Ease of assign
b.timeframe = {
    get process () {
        return b.addon.timeframe.process
    },
    set process (func) {
        b.addon.timeframe.process = func
    },
    get invoke () {
        return b.addon.timeframe.invoke
    },
    set invoke (func) {
        b.addon.timeframe.invoke = func
    },
    get update () {
        b.addon.timeframe.update.apply(b.addon.timeframe)
    },
    set update (func) {
        return b.addon.timeframe.update
    },
    get switchTo () {
        return b.addon.runtime.access.option
    },
    set switchTo (func) {
        if (arguments[0] == 'thrust' || arguments[0] == 'thrusting') b.addon.timeframe.switchToTimeFrameThrusting.apply(b.addon.timeframe); else b.addon.timeframe.switchToTimeFrameReading.apply(b.addon.timeframe)
    }
}
b.timeframe.process = b.addon.timeframe.process = function () {}
b.timeframe.invoke = b.addon.timeframe.invoke = function () {}
b.timeframe.update = b.addon.timeframe.update
// Ease of Use------------------------------------------------------------------------------------------------------------------
},function(a){new function(a,d,e,c){this.gui=
{};this.gui.addon={bind:{}};this.gui.addon.bind.onchange=function(a,b){a.onChange(function(a){b(this)})};var b=function(a,b,c){a[b]||(a[b]=function(){this[b+"Callbacks"]()});a[b+"Calls"]=[];a[c]=0;a[b+"Callbacks"]=function(){for(var a=0;a<this[c];a++)this[b+"Calls"][a][1](this[b+"Calls"][a][0])}};this.gui.addon.bind.oninit=function(a,c,d){c.initCalls||b(c,"init","inclen");c.initCalls.push([a,d]);c.inclen++};this.gui.addon.bind.onready=function(a,c,d){c.readyCalls||b(c,"ready","rdclen");c.readyCalls.push([a,
d]);c.rdclen++};this.gui.addon.bind.onupdate=function(a,c,d){c.updateCalls||b(c,"update","upclen");c.updateCalls.push([a,d]);c.upclen++};this.gui.addon.bind.onruntime=function(a,c,d){c.runtimeCalls||b(c,"runtime","ruclen");c.runtimeCalls.push([a,d]);c.ruclen++};this.gui.addon.bind.onrevert=function(a,c,d){c.revertCalls||b(c,"revert","rrclen");c.revertCalls.push([a,d]);c.rrclen++};this.gui.addon.bind.onpass=function(a,c,d){c.passCalls||b(c,"pass","paclen");c.passCalls.push([a,d]);c.paclen++};c(this.gui,
d,e)}(this.dat,a,this.app,function(a,d,e){a.addon.app=function(a){var b={};a.fullScreenHandler="undefined"!=typeof document.fullscreenElement?{event:"fullscreenChange",state:"fullscreen"}:"undefined"!=typeof document.msFullscreenElement?{event:"MSFullscreenChange",state:"fullscreen"}:"undefined"!=typeof document.mozFullScreenElement?{event:"mozfullscreenchange",state:"mozFullScreen"}:"undefined"!=typeof document.webkitFullscreenElement?{event:"webkitfullscreenchange",state:"webkitIsFullScreen"}:{event:"fullscreenchange",
state:"fullscreen"};document.addEventListener(a.fullScreenHandler.event,function(b){b.preventDefault();a.fullscreenEnabled=document[a.fullScreenHandler.state];window.setTimeout(window.onresize(),1E3)},!1);b.resolution={r2160p:[3840,2160],r1440p:[2560,1440],r1080p:[1920,1080],r720p:[1280,720],r480p:[854,480],r360p:[640,360],r240p:[426,240]};e.resolution.update=function(a){window.changeResolution({width:b.resolution[a][0],height:b.resolution[a][1]})}("r720p");return b}(a);a.addon.Streaming=a.addon.Streaming=
d.prototype.addon;var b=a.addon.Streaming.timeframe,f=a.addon.Streaming.timeframe.timeline=function(a,c){var d={segment:0,init:void 0,ready:void 0,update:function(a){d.updateCallbacks()},updateCalls:[],upclen:0,updateCallbacks:function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])},pass:function(a){d.passCallbacks()},passCalls:[],paclen:0,passCallbacks:function(){for(var a=0;a<this.paclen;a++)this.passCalls[a][1](this.passCalls[a][0])}},e=function(a){b.duration>b.length&&
(b.duration+=b.length-b.duration);d.seek.position=b.duration/b.length*100;a.style.left=d.seek.position+"%";d.seek.position-d.prevSegmentPos>d.segmentPos-d.prevSegmentPos&&d.checkPassSegment();d.update()},f=function(){l.style.width=c.width-395+"px";d.seek.width=d.seek.span.element.clientWidth},g=c.element||document.body,h=document.createElement("style");h.id="timelineStyle";h.innerHTML="#timeline, .TL div {position: absolute;}\n                #timeline {width: 75%; height: 65px; top: 17px; left: 100px; z-index: 22;}\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;}\n                .info.dg {display:none}\n                .info.dg, .info.dg div {height: 15px; width: 150px;}\n                .info.top {top: -14px;}\n                .info.bottom {top: 68px;}\n                .info .text {text-align: center; left: -75px;}\n                .info .bg {background: black; opacity: 0.5; left: -75px;}\n                .TL .left, .TL .right, .TL .span {width: 5px; height: 29px; top: 0px;}\n                .TL .left {left: 0px; background: transparent url("+
c.vscode._fileLocal+"assets/left-slide.png) no-repeat left top;}\n                .TL .right {right: -10px; background: transparent url("+c.vscode._fileLocal+"assets/right-slide.png) no-repeat right top;}\n                .TL .span {width: 100%; left: 5px; background: transparent url("+c.vscode._fileLocal+"assets/center-slide.png) repeat-x left top;}\n                .TL .comment {width: 15px; height: 14px; top: 25px; left: 5%; background: transparent url("+c.vscode._fileLocal+"assets/comment.png) no-repeat left top; cursor: pointer}\n                .TL .segment {width: 1px; height: 17px; top: 27px; left: 10%; border:#666 solid 1px; background: #fff; opacity: 0.50; cursor: pointer}\n                .TL .seek {background: #666; top: 4px; width: 1px; left: 0%; height: 21px;}\n                .TL .bar {background: #bbb none repeat scroll 0 0; border-radius: 10px; border-top: 1px solid #fff; height: 23px; opacity: 0.1; top: 44px; width: 100%;}\n                .TL .slider {background: transparent url("+
c.vscode._fileLocal+"assets/slider.png) no-repeat center bottom; bottom: -43px; width: 40px; left: -20px; height: 36px;}\n                .TL .action {border:#666 solid 1px; background: #ff0000; top: 4px; width: 5px; height: 7px; cursor: pointer}\n                .TL .sound {border:#666 solid 1px; background: #fff; top: 17px; width: 5px; height: 7px; cursor: pointer}\n                .TL .dialog {display:none; background: #3f3f3f; width: 350px; height: 350px; border-radius: 10px; border: #555 1px solid; top: 115px; margin: auto; position: relative; color: #dadada; font-family: verdana; font-size: 11px; font-weight: bold;}\n                .TL .dialog div {position: unset;}\n                .TL .dialog .title {width: 340px; height: 27px; float: left; font-size: 15px;padding: 22px 0px 3px 10px;}\n                .TL .dialog .description {width: 340px; height: 24px; border-bottom: #222 1px solid; float: left;padding: 0px 0px 0px 10px;font-size: 9px;}\n                .TL .dialog .option {height: 40px; width: 340px; border-top: #555 1px solid; float: left;padding: 10px 0px 3px 10px;}\n                .dialog label {width: 340px; float: left; height: 20px;}\n                .dialog input {width: 30px; background: #333; border: none; color: #fff; border-radius: 5px; padding: 0px 0px 0px 6px;}";
g.appendChild(h);var l=document.createElement("div");l.id="timeline";l.setAttribute("class","TL");h=document.createElement("div");h.setAttribute("class","info top dg");var p=document.createElement("div");p.setAttribute("class","bg");h.appendChild(p);p=document.createElement("div");p.setAttribute("class","text");h.appendChild(p);l.appendChild(h);var n=document.createElement("div");n.setAttribute("class","left");var r=document.createElement("div");r.setAttribute("class","right");var x=document.createElement("div");
x.setAttribute("class","span");var v=document.createElement("div");v.setAttribute("class","bar");x.appendChild(v);var J=document.createElement("div");J.setAttribute("class","slider");var z=document.createElement("div");z.style.left="0%";z.setAttribute("class","seek");z.appendChild(J);x.appendChild(z);l.appendChild(n);l.appendChild(x);l.appendChild(r);g.appendChild(l);d.element=l;d.seek={element:z,position:void 0,width:x.clientWidth,slider:{element:J},span:{element:x},bar:{element:v},info:{element:h,
text:p}};d.prevSegmentPos=void 0;d.segmentPos=void 0;d.nextSegmentPos=void 0;d.passSegment=void 0;d.callbackPass={list:[],count:0};var N,C,k,D,U,V,m,G,M,K,R,S,B,y,O,A,L,E;d.refresh=function(){N=document.getElementsByClassName("action");C=document.getElementById("actionjson");k=document.getElementsByClassName("actionscript");D=N.length;U=new Int32Array(new ArrayBuffer(4*D));for(var a=0;a<D;a++)U[a]=parseInt(N[a].style.left);V=document.getElementsByClassName("sound");m=document.getElementById("soundjson");
G=document.getElementsByClassName("soundscript");M=V.length;K=document.getElementsByClassName("comment");R=document.getElementById("commentjson");S=document.getElementsByClassName("commentscript");B=K.length;y=document.getElementsByClassName("segment");O=document.getElementById("segmentjson");A=document.getElementsByClassName("segmentscript");L=y.length;E=new Int32Array(new ArrayBuffer(4*L));for(a=0;a<L;a++)E[a]=parseInt(y[a].style.left)||1;this.checkPassSegment()};d.checkPassSegment=function(){for(var a=
this.passSegment=0;a<L;a++)this.seek.position>=E[a]&&this.passSegment++;this.prevSegmentPos=E[this.segment-1]||0;this.segmentPos=E[this.segment]||100;this.nextSegmentPos=E[this.segment+1]||100;this.pass()};d.removeInsertsNear=function(a,b,c){var d=b+c;for(b-=c;b<d;b++)this.removeInsertAt(a,b)};d.removeInsertAt=function(a,b){for(var c=this.seek.span.element.getElementsByClassName(a),d=0;d<c.length;d++)c[d].id==b&&c[d].parentNode.removeChild(c[d])};d.destroy=function(a,c){a=a||["action","sound","comment",
"segment"];a=a.constructor===Array?a:[a];for(var d=0;d<a.length;d++){b.clearRuntimeAuthority(a[d]);for(var e=this.seek.span.element.getElementsByClassName(a[d]);0<e.length;)e[0].parentNode.removeChild(e[0]);if("action"==a[d]){for(e=D-1;-1<e;e--)k[e]&&document.getElementsByTagName("body")[0].removeChild(k[e]);C&&document.getElementsByTagName("body")[0].removeChild(C)}else if("sound"==a[d]){for(e=M-1;-1<e;e--)G[e]&&document.getElementsByTagName("body")[0].removeChild(G[e]);m&&document.getElementsByTagName("body")[0].removeChild(m)}else if("comment"==
a[d]){for(e=B-1;-1<e;e--)S[e]&&document.getElementsByTagName("body")[0].removeChild(S[e]);R&&document.getElementsByTagName("body")[0].removeChild(R)}else if("segment"==a[d]){for(e=L-1;-1<e;e--)A[e]&&document.getElementsByTagName("body")[0].removeChild(A[e]);O&&document.getElementsByTagName("body")[0].removeChild(O)}}("undefined"==typeof c||c)&&this.refresh()};d.destroy();var H=document.getElementsByClassName("rec");window.clearInterval(window.interval);window.interval=window.setInterval(function(){for(var a=
0;a<H.length;a++)"rec on"==H[a].className?H[a].className="rec off":"rec off"==H[a].className?H[a].className="rec on":"rec seg"==H[a].className&&(H[a].innerHTML=d.segment)},1E3);var Q=function(){setTimeout(function(){if(b.init&&d.init){4!=d.initCalls.length&&Q();d.init();var a=function(){setTimeout(function(){b.ready&&d.ready?(this.app.ready=!0,d.ready()):a()},0)};a()}else Q()},0)};Q();a.addon.bind.onrevert(z,b,function(a,c){b.duration=c;e(a);d.checkPassSegment()});a.addon.bind.onruntime(z,b,e);f();
window.resizeCalls.push(f);return d}(a,e),l=function(a){var c=a.addon.Streaming.timeframe.timeline.seek;c.start=!1;var d=0,e=0;c.slider.element.addEventListener("mousedown",function(a){a.preventDefault();if(!c.start){c.start=!0;b.stop();var g=this;e=a.pageX-g.offsetLeft+document.body.scrollLeft;c.info.text.innerHTML="Playback: drag/release";c.info.element.setAttribute("class","info bottom dg");c.info.element.style.display="inline";c.info.element.style.left=c.position+"%";var h=function(a){a.preventDefault();
d=a.pageX-g.offsetLeft+document.body.scrollLeft;4<Math.abs(d-e)&&(f.element.removeEventListener("mouseup",l),f.element.removeEventListener("mousemove",h),f.element.addEventListener("mousemove",c.ondrag),f.element.addEventListener("mouseup",c.ondrop))};f.element.addEventListener("mousemove",h);var l=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();b.run();c.start=!1;f.element.removeEventListener("mouseup",l);f.element.removeEventListener("mousemove",h);c.info.text.innerHTML=
"";c.info.element.style.display=""};f.element.addEventListener("mouseup",l)}});c.slider.element.style.cursor="pointer";c.info.text.innerHTML="Playback: press to play";c.info.element.setAttribute("class","info bottom dg");c.info.element.style.display="inline";c.info.element.style.left=c.position+"%";c.ondrag=function(a){a.preventDefault();d=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;h(d/c.width*100);c.info.text.innerHTML="Playback: "+(c.position/100*b.length<<0)};c.ondragInFrame=function(a){a.preventDefault();
d=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;h(d/c.width*100);l(void 0);b.tick(void 0,void 0);c.info.text.innerHTML="Seek: "+(c.position/100*b.length<<0)};b.goTo=function(a){l(a);h(b.duration/b.length*100)};c.ondrop=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();c.start=!1;l(void 0);b.run();f.element.removeEventListener("mousemove",c.ondrag);f.element.removeEventListener("mouseup",c.ondrop);c.info.text.innerHTML="";c.info.element.style.display=""};
c.ondropInFrame=function(a){a.preventDefault();c.start=!1;l(void 0);b.tick(void 0,void 0);f.element.removeEventListener("mousemove",c.ondragInFrame);f.element.removeEventListener("mouseup",c.ondropInFrame);c.info.text.innerHTML="Playback: press to play"};c.goInFrame=function(a,d,e){l(e);b.tick(a,d);c.info.text.innerHTML="Playback: press to play";c.info.element.setAttribute("class","info bottom dg")};var h=function(a){c.position=a;c.position=100<c.position?100:0>c.position?0:c.position;c.element.style.left=
c.info.element.style.left=c.position+"%"},l=function(a){b.duration=a||c.position/100*b.length<<0;b.syncing();f.checkPassSegment()};a.addon.bind.onready(c,f,function(){setTimeout(function(){window.onresize();c.info.text.innerHTML="";b.run()},500)});return c}(a);a.addon.Streaming.timeframe.timeline.seek.bar=function(a){a=a.addon.Streaming.timeframe.timeline.seek.bar;var c=0,d=0;a.element.addEventListener("mousedown",function(a){a.preventDefault();if(!l.start){l.start=!0;var e=this;d=a.pageX-e.offsetLeft+
document.body.scrollLeft;l.info.text.innerHTML="Seek: drag/release";l.info.element.setAttribute("class","info bottom dg");l.info.element.style.display="inline";l.info.element.style.left=(d-(f.element.offsetLeft-5))/l.width*100+"%";var g=function(a){a.preventDefault();c=a.pageX-e.offsetLeft+document.body.scrollLeft;4<Math.abs(c-d)&&(b.resetStreamProperties(),b.switchToTimeFrameReading(),f.element.removeEventListener("mouseup",h),f.element.removeEventListener("mousemove",g),f.element.addEventListener("mousemove",
l.ondragInFrame),f.element.addEventListener("mouseup",l.ondropInFrame))};f.element.addEventListener("mousemove",g);var h=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();c=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;l.position=c/l.width*100;l.position=100<l.position?100:0>l.position?0:l.position;l.element.style.left=l.position+"%";l.start=!1;l.goInFrame();f.element.removeEventListener("mouseup",h);f.element.removeEventListener("mousemove",g)};f.element.addEventListener("mouseup",
h)}});a.element.style.cursor="pointer";return a}(a);var p=a.addon.Streaming.timeframe.timeline.seek.insert=function(a,c){var d={select:"nothing",delta:"nothing",element:{},position:{},dragging:!1},e=function(a,c,d,e,f){var g=document.createElement("script");g.type="text/javascript";g.async=!1;f?g.id=a+"json":g.setAttribute("class",a+"script");g.readyState?g.onreadystatechange=function(){if("loaded"==g.readyState||"complete"==g.readyState||"error"==g.readyState)g.onreadystatechange=null,d(window.Authority,
a,e),window.Authority=void 0,h.finish++,h.entry==h.finish&&b._ready()}:(g.onload=function(){d(window.Authority,a,e);window.Authority=void 0;h.finish++;h.entry==h.finish&&b._ready()},g.onerror=function(){h.finish++;h.entry==h.finish&&b._ready()});g.src=c;document.getElementsByTagName("body")[0].appendChild(g)};d.make=function(){var a=document.createElement("div");a.style.left=this.position+"%";l.span.element.appendChild(a);this.element=a};var h={entry:0,finish:0};d.load=function(a,b,d){var f=d||"";
c.codesettingLoc=c.codesetting?c.codesetting+"/":"";h.entry++;e(a,f+("user/"+c.codesettingLoc+a),function(d){for(var g in d)h.entry++,e(a,f+("user/"+c.codesettingLoc+a+g+".js"),b,g,!1)},0,!0)};d.reload=function(a,b,d){this.load("action",this.action.init,c.vscode._fileLocal);this.load("sound",this.sound.init,c.vscode._fileLocal);this.load("comment",this.comment.init,c.vscode._fileLocal);this.load("segment",this.segment.init,c.vscode._fileLocal)};d.insertAuthorities=function(a){for(var c in a){this.delta=
c;for(var e in a[c])this.position=e/b.length*100,b.runtimeAuthority(a[c][e].Authority,this.delta,e),d.make(e),d.change()}f.refresh();this.select=this.delta="nothing"};d.change=function(){"action"==this.delta?this.element.setAttribute("class","action"):"sound"==this.delta?this.element.setAttribute("class","sound"):"comment"==this.delta?this.element.setAttribute("class","comment"):"segment"==this.delta&&this.element.setAttribute("class","segment")};return d}(a,e);a.addon.Streaming.timeframe.timeline.seek.insert.comment=
function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","comment");a.setAttribute("data-position",d);l.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){p.load("comment",a.init,c.vscode._fileLocal)});return d}(a,e);a.addon.Streaming.timeframe.timeline.seek.insert.segment=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=
d/b.length*100+"%";a.setAttribute("class","segment");a.setAttribute("data-position",d);l.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){p.load("segment",a.init,c.vscode._fileLocal)});return d}(a,e);a.addon.Streaming.timeframe.timeline.seek.insert.action=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","action");a.setAttribute("data-position",d);l.span.element.appendChild(a);
f.refresh()}};a.addon.bind.oninit(d,f,function(a){p.load("action",a.init,c.vscode._fileLocal)});return d}(a,e);a.addon.Streaming.timeframe.timeline.seek.insert.sound=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","sound");a.setAttribute("data-position",d);l.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){p.load("sound",a.init,c.vscode._fileLocal)});return d}(a,
e)})});function CSPL(){}CSPL._gaussJ={};CSPL._gaussJ.solve=function(a,b){for(var d=a.length,e=0;e<d;e++){for(var c=0,f=Number.NEGATIVE_INFINITY,l=e;l<d;l++)a[l][e]>f&&(c=l,f=a[l][e]);CSPL._gaussJ.swapRows(a,e,c);0===a[c][e]&&console.log("matrix is singular!");for(c=e+1;c<d;c++){for(f=e+1;f<d+1;f++)a[c][f]-=a[c][e]/a[e][e]*a[e][f];a[c][e]=0}}for(e=d-1;0<=e;e--)for(c=a[e][d]/a[e][e],b[e]=c,f=e-1;0<=f;f--)a[f][d]-=a[f][e]*c,a[f][e]=0};
CSPL._gaussJ.zerosMat=function(a,b){for(var d=[],e=0;e<a;e++){d.push([]);for(var c=0;c<b;c++)d[e].push(0)}return d};CSPL._gaussJ.printMat=function(a){for(var b=0;b<a.length;b++)console.log(a[b])};CSPL._gaussJ.swapRows=function(a,b,d){var e=a[b];a[b]=a[d];a[d]=e};
CSPL.getNaturalKs=function(a,b,d){for(var e=a.length-1,c=CSPL._gaussJ.zerosMat(e+1,e+2),f=1;f<e;f++)c[f][f-1]=1/(a[f]-a[f-1]),c[f][f]=2*(1/(a[f]-a[f-1])+1/(a[f+1]-a[f])),c[f][f+1]=1/(a[f+1]-a[f]),c[f][e+1]=3*((b[f]-b[f-1])/((a[f]-a[f-1])*(a[f]-a[f-1]))+(b[f+1]-b[f])/((a[f+1]-a[f])*(a[f+1]-a[f])));c[0][0]=2/(a[1]-a[0]);c[0][1]=1/(a[1]-a[0]);c[0][e+1]=3*(b[1]-b[0])/((a[1]-a[0])*(a[1]-a[0]));c[e][e-1]=1/(a[e]-a[e-1]);c[e][e]=2/(a[e]-a[e-1]);c[e][e+1]=3*(b[e]-b[e-1])/((a[e]-a[e-1])*(a[e]-a[e-1]));CSPL._gaussJ.solve(c,
d)};CSPL.evalSpline=function(a,b,d,e){for(var c=1;b[c]<a;)c++;a=(a-b[c-1])/(b[c]-b[c-1]);return(1-a)*d[c-1]+a*d[c]+a*(1-a)*((e[c-1]*(b[c]-b[c-1])-(d[c]-d[c-1]))*(1-a)+(-e[c]*(b[c]-b[c-1])+(d[c]-d[c-1]))*a)};
var Utils={userSelectDropDown:function(a){var b=a;b.addEventListener("change",function(){window.localStorage.setItem("storedSelect",[this.selectedIndex,this.options[this.selectedIndex].value]);window.location.reload()});var d=window.localStorage.getItem("storedSelect");d?(d=d.split(","),b.selectedIndex=d[0],b=d[1]):b=void 0;return b||a.options[a.selectedIndex].value},vscodeSelectDropDown:function(a,b){for(var d,e=0;e<b.length;e++)if(b[e].value===a){b[e].selected=!0;d=b.options[e].value;break}return d},
Blend:{}};Utils.Blend.src="ZeroFactor OneFactor SrcAlphaFactor OneMinusSrcAlphaFactor DstAlphaFactor OneMinusDstAlphaFactor DstColorFactor OneMinusDstColorFactor SrcAlphaSaturateFactor".split(" ");Utils.Blend.dst="ZeroFactor OneFactor SrcColorFactor OneMinusSrcColorFactor SrcAlphaFactor OneMinusSrcAlphaFactor DstAlphaFactor OneMinusDstAlphaFactor".split(" ");Utils.Blend.blending="CustomBlending";Utils.flagBut=!1;
Utils.bindButtonUseFunction=function(a,b,d){if("undefined"!=typeof a){var e=function(a){a.preventDefault();Utils.flagBut||(Utils.flagBut=!0,setTimeout(function(){Utils.flagBut=!1},100),0<arguments.length?b.apply(this,d):b());return!1};a.addEventListener("click",e);a.addEventListener("touchstart",e)}};Utils.unBindButton=function(a){"undefined"!=typeof a&&(a.removeEventListener("click"),a.removeEventListener("touchstart"))};
Utils.bindButtonAndKeyPressUseFunction=function(a,b,d,e){if("undefined"!=typeof a){var c=function(a){a.preventDefault();Utils.flagBut||(Utils.flagBut=!0,setTimeout(function(){Utils.flagBut=!1},100),0<arguments.length?d.apply(this,e):d());return!1};a.addEventListener("click",c);a.addEventListener("touchstart",c);Utils.keyBindings[Utils.keyMapping[b]]={keyPress:function(a){0<Utils.keyBindings[a.keyCode].args.length?Utils.keyBindings[a.keyCode].func.apply(this,Utils.keyBindings[a.keyCode].args):Utils.keyBindings[a.keyCode].func();
return!1},func:d,key:b,args:e};window.addEventListener("keypress",Utils.keyBindings[Utils.keyMapping[b]].keyPress)}};Utils.unBindButtonAndKeyPress=function(a,b){"undefined"!=typeof a&&(a.removeEventListener("click"),a.removeEventListener("touchstart"),window.removeEventListener("keypress",Utils.keyBindings[Utils.keyMapping[b]].keyPress))};
Utils.bindKeyPressUseFunction=function(a,b,d){Utils.keyBindings[Utils.keyMapping[a]]={keyPress:function(a){0<Utils.keyBindings[a.keyCode].args.length?Utils.keyBindings[a.keyCode].func.apply(this,Utils.keyBindings[a.keyCode].args):Utils.keyBindings[a.keyCode].func();return!1},func:b,key:a,args:d};window.addEventListener("keypress",Utils.keyBindings[Utils.keyMapping[a]].keyPress)};Utils.unBindKeyPress=function(a){window.removeEventListener("keypress",Utils.keyBindings[Utils.keyMapping[a]].keyPress)};
Utils.bindKeyUpDownUseFunction=function(a,b,d,e,c){var f=!1;Utils.keyBindings[Utils.keyMapping[a]]={keyDown:function(a){if(c&&b){if(f)return!1;f=!0;keyState[a]=void 0}0<e.length?b.apply(this,e):b();return!1},keyUp:function(a){if(c&&d){if(f)f=!1;else return!1;keyState[a]=void 0}0<e.length?d.apply(this,e):d();return!1}}};var keyState=[];Utils.bindKeyStateLoop=function(){for(var a=0;a<keyState.length;a++)if(keyState[a])keyState[a][0][keyState[a][1]](a)};
window.addEventListener("keydown",function(a){keyState[a.keyCode||a.which]=Utils.keyBindings[a.keyCode||a.which]?[Utils.keyBindings[a.keyCode||a.which],"keyDown"]:void 0},!0);window.addEventListener("keyup",function(a){keyState[a.keyCode||a.which]=Utils.keyBindings[a.keyCode||a.which]?[Utils.keyBindings[a.keyCode||a.which],"keyUp"]:void 0},!0);Utils.unBindKeyUpDown=function(a){Utils.keyBindings[Utils.keyMapping[a]]=void 0};Utils.keyBindings={};
Utils.keyMapping={1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"\\":220,q:81,w:87,e:69,r:82,t:84,y:89,u:85,i:73,o:79,p:80,"[":219,"]":221,a:65,s:83,d:68,f:70,g:71,h:72,j:74,k:75,l:76,";":186,"'":222,z:90,x:88,c:67,v:86,b:66,n:78,m:77,",":188,".":190,"/":191};Array.prototype.fill=Array.prototype.fill?Array.prototype.fill:function(a){return Array.apply(null,Array(this.length)).map(Number.prototype.valueOf,a)};Math.radians=function(a){return a*Math.PI/180};
Math.degrees=function(a){return 180*a/Math.PI};Math.lerp=function(a,b){return a*b};Math.lerpSubject=function(a,b,d){return this.lerp(a-b,d)};Math.lerpProp=function(a,b,d,e){a[b]+=this.lerpSubject(d,a[b],e)};Math.lerpProps=function(a,b,d,e){for(var c=0;c<a.length;c++)a[c][b]+=this.lerpSubject(d,a[c][b],e)};Math.distance2=function(a,b){var d=a.x-b.x,e=a.y-b.y;return Math.sqrt(d*d+e*e)};Math.randomFromTo=function(a,b){return Math.floor(Math.random()*(b-a)+a)};
Math.aspectRatio=function(a,b){return a/b};Math.rotateFromPoint=function(a,b,d,e,c,f){f&&(c-=180);c=c*Math.PI/180;return{x:Math.cos(c)*(a-d)-Math.sin(c)*(b-e)+d,y:Math.sin(c)*(a-d)+Math.cos(c)*(b-e)+e}};Math.Type={};
Math.Type.identify=function(a){if(a.constructor){if("Vector3"==a.constructor.name)return"translation";if("Euler"==a.constructor.name)return"radian"}return"position"==a.type?"translation":"rotation"==a.type?"radian":"poly"==a.type?"poly":"translation"==a.type||"radian"==a.type||"poly"==a.type||"uniform"==a.type?a.type:"uniform"};Math.Type.precision=function(a){if("translation"==a)return 1E3;if("radian"==a)return 1E4;if("uniform"==a)return 1E3};Math.Type.convertToPrecision=function(a,b){return b*this.precision(a)};
Math.Type.convertFromPrecision=function(a,b){return b/this.precision(a)};Math.Type.convertToType=function(a,b){return"radian"==a?Math.radians(b):b};Math.Type.convertFromType=function(a,b){return"radian"==a?Math.degrees(b):b};Math.Type.convertToPrecisionType=function(a,b,d){return Math.Type.convertToType(a,d?b*d:b*this.precision(a))};Math.Type.convertFromPrecisionType=function(a,b,d){return Math.Type.convertFromType(a,d?b/d:b/this.precision(a))};
Math.Type.convertToPrecisionData=function(a,b,d,e,c){for(var f=0,l=b.length;f<l;f++)for(var p=d;p<d+e;p++)b[f][p]&&(b[f][p]=c?b[f][p]*c:this.convertToPrecision(a,b[f][p]));return b};Math.Type.convertFromPrecisionData=function(a,b,d,e,c){for(var f=0,l=b.length;f<l;f++)for(var p=d;p<d+e;p++)b[f][p]&&(b[f][p]=c?b[f][p]/c:this.convertFromPrecision(a,b[f][p]));return b};
Math.Type.convertToTypeData=function(a,b,d,e){for(var c=0,f=b.length;c<f;c++)for(var l=d;l<d+e;l++)b[c][l]&&(b[c][l]=this.convertToType(a,b[c][l]));return b};Math.Type.convertFromTypeData=function(a,b,d,e){for(var c=0,f=b.length;c<f;c++)for(var l=d;l<d+e;l++)b[c][l]&&(b[c][l]=this.convertFromType(a,b[c][l]));return b};
Math.Type.convertToPrecisionDataType=function(a,b,d,e,c){for(var f=0,l=b.length;f<l;f++)for(var p=d;p<d+e;p++)b[f][p]&&(b[f][p]=c?b[f][p]*c:this.convertToPrecision(a,b[f][p]),b[f][p]=this.convertToType(a,b[f][p]));return b};Math.Type.convertFromPrecisionDataType=function(a,b,d,e,c){for(var f=0,l=b.length;f<l;f++)for(var p=d;p<d+e;p++)b[f][p]&&(b[f][p]=c?b[f][p]/c:this.convertFromPrecision(a,b[f][p]),b[f][p]=this.convertFromType(a,b[f][p]));return b};Math.Cache={};
Math.Cache.store=function(a,b,d){Math.Cache[a]=b.apply(this,[d])};Math.Poly={};Math.Poly.generateKeys=function(a,b){for(var d=[],e=0,c=a.length;e<c;e++)d[e]=b?b+e:e;return d};Math.Poly.poly=function(a,b,d){if(!b.length)return d?b*d:Math.Type.convertToPrecision(a,b);for(var e=[],c=0,f=b.length;c<f;c++)e[c]=b[c]?Math.Poly.poly(a,b[c],d):0;return e};Math.Poly.generate=function(a,b,d){for(var e=[],c=0,f=b.length;c<f;c++)e[c]=[c,b[c]?Math.Poly.poly(a,b[c],d):0];return e};
Math.Poly.add=function(a,b,d){a=[];for(var e=0,c=b.length;e<c;e++)a[e]=b[e]+d[e];return a};Math.Poly.subtract=function(a,b,d){a=[];for(var e=0,c=b.length;e<c;e++)a[e]=b[e]-d[e];return a};Math.Poly.multiply=function(a,b,d){a=[];for(var e=0,c=b.length;e<c;e++)a[e]=b[e]*d[e];return a};Math.Poly.divide=function(a,b,d){a=[];for(var e=0,c=b.length;e<c;e++)a[e]=b[e]/d[e];return a};Math.Poly.addScalarVector=function(a,b){for(var d=[b.x,b.y,b.z],e,c=0,f=a.length;c<f;c++)e=c-3*(c/3<<0),a[c]+=d[e]?d[e]:1};
Math.Poly.subtractScalarVector=function(a,b){for(var d=[b.x,b.y,b.z],e,c=0,f=a.length;c<f;c++)e=c-3*(c/3<<0),a[c]-=d[e]?d[e]:1};Math.Poly.multiplyScalarVector=function(a,b){for(var d=[b.x,b.y,b.z],e,c=0,f=a.length;c<f;c++)e=c-3*(c/3<<0),a[c]*=d[e]?d[e]:1};Math.Poly.divideScalarVector=function(a,b){for(var d=[b.x,b.y,b.z],e,c=0,f=a.length;c<f;c++)e=c-3*(c/3<<0),a[c]/=d[e]?d[e]:1};
Math.Poly.smoothOut=function(a,b){for(var d=this.avg(a)*b,e=Array(a.length),c=0;c<a.length;c++)e[c]=this.avg([d,this.avg([0<c?e[c-1]:a[c],a[c],c<a.length?a[c]:a[c-1]])]);return e};Math.Poly.avg=function(a){return a.reduce(function(a,d){return a+d},0)/a.length};Math.Poly.Medium={};
Math.Poly.Medium.midDisperse=function(a,b,d){for(var e=[],c=0;c<b;c++){for(var f=c/b*a,l=[],p=0,h=a+1;p<h;p++){var g=p+f;g-=(g/a<<0)*a;g=g>a/2?a-g:g;g=0<g?g-0:0;g=0==(g<p?0:1)?0:g;l[p]=g}f=[];p=[];h=0;for(g=l.length;0<g;g--)p[h]=l[g-1],f[g-1]=p[h]+l[h],f[g-1]=f[g-1]>a/2?1:f[g-1]/(a/2),h++;e[c]=d?Math.Poly.smoothOut(f,d):f}return e};
Math.Poly.Medium.midEase=function(a,b){for(var d=[],e=0,c=a+1;e<c;e++){var f=0-e+a;f-=(f/a<<0)*a;f=f>a/2?a-f:f;d[e]=0<f?f-0:0}e=[];for(c=0;c<d.length;c++)e[c]=d[c]>a/2?1:d[c]/(a/2);return e=b?Math.Poly.smoothOut(e,b):e};