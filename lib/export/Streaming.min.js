window.app={width:window.innerWidth,height:window.innerHeight,resolution:"1280,720",fullscreen:!1,touch:!1,popup:!1,pointers:{enabled:!0,inUse:!1},marquee:{},motionblur:{shutterspeed:2,influence:10},uniforms:{godray_amount:15,screenshadow_alpha:1,ash_direction:3},sound:!0,ready:!1};window.canvases=[];window.createCanvas={};window.container={};window.info={};window.stats={showPanel:function(){},begin:function(){},end:function(){}};
window.context=function(a,b){var e=this.THREE,d=this.Stats;this.container=document.getElementById(a);this.info=document.getElementById(b);this.stats=d?new d:window.stats;this.stats.showPanel(0);d&&this.info.appendChild(this.stats.dom);this.createCanvas=function(a){var b={};"3d"!==a?(b.node=document.createElement("canvas"),b.context=b.node.getContext("2d")):(b.renderer=new e.WebGLRenderer,b.renderer.setSize(this.app.resolution.width,this.app.resolution.height),b.renderer.setClearColor(0),b.renderer.context.scene=
new e.Scene,b.renderer.context.camera=new e.PerspectiveCamera(100,this.app.width/this.app.height,1,1E5),b.context=b.renderer.context,b.node=b.renderer.domElement,b.node.tabindex="1");b.node.width=this.app.resolution.width;b.node.height=this.app.resolution.height;b.node.style.width=this.app.width+"px";b.node.style.height=this.app.height+"px";this.app.element=this.container;b.context.constructor.name=b.context.constructor.name||"2d"==a?"CanvasRenderingContext2D":"WebGLRenderingContext";this.container.appendChild(b.node);
window.canvases.push(b);return b};this.buildContext=function(a,b,e){var c=document.createElement("script");c.src=b;c.onload=function(){e()};document.body.appendChild(c);return a}};
window.onresize=function(){this.app.width=this.innerWidth;this.app.height=this.innerHeight;if(0<this.canvases.length){for(var a=0,b=this.canvases.length;a<b;a++)if("undefined"===typeof this.canvases[a].id){this.canvases[a].renderer&&(this.canvases[a].renderer.setSize(this.app.resolution.width,this.app.resolution.height),this.canvases[a].renderer.render(this.canvases[a].context.scene,this.canvases[a].context.camera),this.canvases[a].context.camera.updateProjectionMatrix());this.canvases[a].node.width=
this.app.resolution.width;this.canvases[a].node.height=this.app.resolution.height;this.canvases[a].node.style.width=this.app.width+"px";this.canvases[a].node.style.height=this.app.height+"px";if(!this.app.ready&&!this.app.force&&!this.canvases[a].app.resolution)return;this.canvases[a].app&&this.canvases[a].app.resolution(this.app)}try{window.ctx.calc&&window.ctx.calc(),window.ctx.rendering&&window.ctx.rendering()}catch(e){console.log("Resize: Waiting for ready - ref: http://")}finally{}}this.resizeCallbacks()};
window.launchFullscreen=function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()};window.exitFullscreen=function(a){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()};
window.toggleFullscreen=function(a,b){a?window.launchFullscreen(b):window.exitFullscreen();window.setTimeout(window.onresize(),1E3)};window.update=function(){this.updateCallbacks()};window.resizeCalls=[];window.resizeCallbacks=function(){for(var a=0;a<this.resizeCalls.length;a++)if(this.resizeCalls[a]._resize)this.resizeCalls[a]._resize();else this.resizeCalls[a]()};window.changeResolution=function(a){window.app.resolution=a;window.setTimeout(window.onresize(),1E3)};window.app.vscode={_fileLocal:"https://cdn.rawgit.com/leroyron/timeline-jscode/5512032b/"};
var Streaming=function(a,b){Streaming=function(a){this.open=this.open||function(){this.build=function(a){try{this.addon.binding.run(),this.stream=this.bindings.stream,this.nodesPerStream=this.bindings.nodesPerStream,this.propsPerNode=this.bindings.propsPerNode,this.propsPerNodeList=this.bindings.propsPerNodeList,this.propDataLength=this.bindings.propDataLength,this.continuancePosValData0=1,this.data0PropDataLength=this.continuancePosValData0+this.propDataLength,this.nodeDataLength=this.data0PropDataLength*
this.propsPerNode+this.propsPerNode+1,this.data=this._prebuff(this.bindings.data),this.bindings.stream=this.bindings.nodesPerStream=this.bindings.propsPerNode=this.bindings.propsPerNodeList=this.bindings.propDataLength=this.bindings.data=null,delete this.bindings.stream,delete this.bindings.nodesPerStream,delete this.bindings.propsPerNode,delete this.bindings.propsPerNodeList,delete this.bindings.propDataLength,delete this.bindings.state,delete this.bindings.data,this._finalize(a)}catch(c){console.log("Streaming: No bindings - ref: http://")}finally{b(Streaming),
console.log("Streaming - "),console.log("Like what you see? We'er looking for developers! https://github.com/leroyron/timeline-jscode")}};this.access=this.access||function(a,b,e,m,l,g,h,p){var c=a||!0,d=b||0,f=e||0,F=m||0,k=l||!0,x=g||0,u=h||-999999,q=p||!1;this.defaults={};this.nextRuntimeCallback=this.mCount=this.tCount=this.rCount=0;this.runtimeCalls=[];this.ruclen=0;this.runtimeCallbacks=function(a){for(var b=D,c,k=0;k<this.ruclen;k++)(c=this.runtimeCalls[k][1](this.runtimeCalls[k][0]||this.nextRuntimeCallback,
a,0))&&c<b&&(b=c);this.nextRuntimeCallback=b;this.block&&(this.rCount=this.tCount=this.block=0);this.runtimeCallbacks=t};var t=function(a){if(!(a+this.data[2]<=this.nextRuntimeCallback||a+this.data[2]>D)){for(var b=D,c,k=0;k<this.ruclen;k++)(c=this.runtimeCalls[k][1](this.runtimeCalls[k][0]||this.nextRuntimeCallback,a,this.data[2]))&&c<b&&(b=c);this.nextRuntimeCallback=b;this.block&&(this.rCount=this.tCount=this.block=0)}};this.revertCalls=[];this.rrclen=0;this.revertCallbacks=function(a,b){for(var c=
D,k,g=0;g<this.rrclen;g++)(k=this.revertCalls[g][1](this.revertCalls[g][0]||a,b))&&k<c&&(c=k);this.nextRuntimeCallback=c;this._syncOffsets(b)};this._update=function(a,b,g,e,h,p,t,z){c=a;d=b;f=g;F=e;k=h;x=p;u=t;q=z;this.updateCallbacks()};this.updateCalls=[];this.upclen=0;this.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};var G="stream",z,v,I,D,P,C,S,T;this._finalize=function(a){G=this.stream;z=this.nodesPerStream;v=this.propsPerNode;I=this._prebuff(this.propsPerNodeList);
D=this.propDataLength;P=this.continuancePosValData0;C=this.data0PropDataLength;S=this.nodeDataLength;this.nodesPerStream=this.propsPerNode=this.data0PropDataLength=delete this.nodesPerStream;delete this.propsPerNode;delete this.propsPerNodeList;delete this.data0PropDataLength;T=this.data.length;this.updateCallbacks();a()};this.revertFromTo=function(a,b){this.propDataLength=D=a;this.continuancePosValData0=P=b+1};this._reversion=function(a){return a-D*(a/D<<0)+P};this.method=this.option="Change the streaming process";
this._process=function(a,b,c){switch(this.option){case "thrust":this.tCount=a+F;this.runtimeCallbacks(this.tCount);switch(this.method){case "all":this._thrustAll(this.tCount);break;case "nodes":this._thrustNodes(this.tCount,c);break;case "properties":this._thrustProperties(this.tCount,c);break;case "mix":this._thrustMix(this.tCount,c);break;default:this._thrustAll(this.tCount)}break;case "read":this.rCount=a+f;this.runtimeCallbacks(this.rCount);switch(this.method){case "all":this._readAll(this.rCount);
break;case "nodes":this._readNodes(this.rCount,c);break;case "properties":this._readProperties(this.rCount,c);break;case "mix":this._readMix(this.rCount,c);break;default:this._readAll(this.rCount)}break;case "measure":switch(this.mCount=a+x,this.runtimeCallbacks(this.mCount),this.method){case "all":return[this._measureAll(this.mCount)];case "nodes":return[this._measureNodes(this.mCount,c)];case "properties":return[this._measureProperties(this.mCount,c)];case "mix":return[this._measureMix(this.mCount,
c)];default:return[this._measureAll(this.mCount)]}}};this.output_utilizeMeasureData=this.output_utilizeThrustData=this.output_utilizeReadData="Data entry portal for execute, ref this to outer functions";var n=0,N=0,B=0,J=0,R=0,K=0,y,r,H,E=0,M=0;this._currentDataPos=function(){return this.data[2]};this._checkInContinuance=function(){if(!c)return n;n+=this.data[r];this._updateDataPos();return n};this._updateDataPos=function(a){a=a||n;y=a-B-K;r=a-y};this._checkOutRevert=function(a){if(!k)return n;this.data[r]=
y=this._reversion(y+(a||d));this.output_revertCall(P);this.revertCallbacks(P,y);return y};this.output_revertCall="Data entry portal for execute, ref this to outer functions";this._callOutLeap=function(a){var b=this.bindings.ids["_bi"+E],c=b[M],k=b.node[G][c.binding].leap;k&&(this.data[a]="undefined"==typeof k.zeroIn&&k.dispose?0:k.dispose?k.zeroIn:this.arguments.leap,k.callback(),k.dispose&&(b.node[G][c.binding].leap=null,delete b.node[G][c.binding].leap))};this._readAll=function(a){for(J=B=R=N=n=
0;n<T;n++)if(0==(n-N)%S&&(E=this.data[n],I[E]&&(n-N!=N&&(N=n,R=n%C,J=0),v=I[E],S=C*v+v+1),n++,B=1,J++),(n-J)%C==R&&(K=n-B,M=this.data[n],n++,B++,J++,y=n-B-K,r=n-y,H=r+(C-y-1),q&&(this.data[r]=P),n=this._checkInContinuance()),-1==E)n=H,this._updateDataPos();else if(0<a)this.output_utilizeReadData(this._dataVal(a),E,M);else break};this._dataVal=function(a){var b=this.data[n],g=y+a,e=r+g;g>D&&k&&(g=this._checkOutRevert(a),n=e=r+g);this.data[e]==u?(c&&(this.data[r]=g),this.data[e]=0):(n=e,this._updateDataPos(),
this.data[r]=y,b=this.data[n]);n=H;this._updateDataPos();return b};this._thrustAll=function(a){for(J=B=n=0;n<T;n++)if(0==n%S&&(E=this.data[n],n++,B=1,J++),0==(n-J)%C&&(K=n-B,M=this.data[n],n++,B++,J++,y=n-B-K,r=n-y,H=r+(C-y-1),q&&(this.data[r]=P),n=this._checkInContinuance()),-1==E)n=H,this._updateDataPos();else if(0<a)this.output_utilizeThrustData(this._dataSum(a),E,M);else break};this._dataSum=function(a){for(var b=0,g=0;g<a;g++){var e=y+1,x=r+e;if(e>D)if(k)g--,e=this._checkOutRevert(1),n=r+e;else break;
else if(this.data[x]==u){c&&(this.data[r]=e);this._callOutLeap(x);break}else n=x,this._updateDataPos(),this.data[r]=y,b+=this.data[n]}n=H;this._updateDataPos();return b};var Q=0,O;this._measureAll=function(a){O=new Int32Array(new ArrayBuffer(a*v+v+4*z));for(J=B=n=Q=0;n<T;n++)if(0==n%S&&(E=this.data[n],O[Q++]=E,n++,B=1,J++),0==(n-J)%C&&(K=n-B,M=this.data[n],O[Q++]=M,n++,B++,J++,y=n-B-K,r=n-y,H=r+(C-y-1),q&&(this.data[r]=P),n=this._checkInContinuance()),-1==E)n=H,this._updateDataPos();else if(0<a)this.output_utilizeMeasureData(this._dataReturn(a,
O),E,M);else return;return O};this._dataReturn=function(a,b){for(var c=0;c<a;c++){var g=y+1,e=r+g;if(g>D)if(k)c--,n=r+P,this._updateDataPos();else break;else if(this.data[e]==u){n=H;this._updateDataPos();break}else n=e,this._updateDataPos(),b[Q++]=this.data[n]}n=H;this._updateDataPos();return b};this._syncOffsets=function(a){var b=y,c=r,k=K;for(J=B=R=N=n=0;n<T;n++)0==(n-N)%S&&(I[this.data[n]]&&(n-N!=N&&(N=n,R=n%C,J=0),v=I[this.data[n]],S=C*v+v+1),n++,B=1,J++),(n-J)%C==R&&(K=n-B,n++,B++,J++,y=n-B-
K,r=n-y,H=r+(C-y-1),q&&(this.data[r]=P),n=this._checkInContinuance(),a>D&&(a=this._checkOutRevert(a))),this.data[r]=a,n=H,this._updateDataPos();y=b;r=c;K=k};this.arguments={continuance:c,skip:d,rCount:f,tCount:F,revert:k,mCount:x,leap:u,reset:q,_accessed:!0};return this};this._prebuff=function(a){for(var b=a.length,e=new Int32Array(new ArrayBuffer(4*b)),d=0;d<b;d++)e[d]=a[d];return e};this.access.prototype.length=this.length};this.constructor.prototype.length=this.constructor.prototype.length||a;
this.open.prototype.length=this.constructor.prototype.length;return this.open()};a(Streaming);return Streaming}(function(a){var b=a.prototype;b.addon={};b.open=function(){var c=this.open.prototype;c.addon=this.addon;b.open=void 0;var e=new a;e._access=e.access;e._access.prototype.addon=c.addon;e.access=function(){this.access=this._access;var a=this.access.apply(this,arguments),b;for(b in this.addon)for(var c in this.addon[b])if("access"==c)this.addon[b][c]=a;else for(var g in this.addon[b][c])"accessRuntime"==
g&&(a.runtimeCalls.push([0,this.addon[b][c].runtime]),a.ruclen++),"accessRevert"==g&&(a.revertCalls.push([0,this.addon[b][c].revert]),a.rrclen++),"accessUpdate"==g&&(a.updateCalls.push([0,this.addon[b][c].update]),a.upclen++);return a};return e};var e=b.addon.runtime={access:void 0,system:function(){var a=this.constructor,b,c,e,d,f,F,k,x,u,q,t,l;this.update=function(){return this};this.proxy=function(){return this};this.init=function(){return this};this.Pointer=function(){b=a.pointer;this.Pointer=
new b;return this};this.Knob=function(){c=a.knob;this.Knob=new c;return this};this.Subject=function(){e=a.subject;this.Subject=new e;return this};this.Marquee=function(){if(b||c||e)return d=a.marquee,this.Marquee=new d,this;console.log("System Marquee: No - Pointer, Knob or Subject detected")};this.Grid=function(){if(b||c||e)return f=a.grid,this.Grid=new f,this;console.log("System Grid: No - Pointer, Knob or Subject detected")};this.Parallax=function(){if(f)return F=this.Grid.parallax,this.Parallax=
new F,this;console.log("System Parallax: No - Grid system detected")};this.Entity=function(){if(F)return k=this.Parallax.entity,this.Entity=new k,this;console.log("System Entity: No - Parallax system detected")};this.Physic=function(){if(F)return x=this.Parallax.physic,this.Physic=new x,this;console.log("System Physic: No - Parallax system detected")};this.Bound=function(){if(F)return u=this.Parallax.bound,this.Bound=new u,this;console.log("System Bound: No - Parallax system detected")};this.Collision=
function(){if(F)return q=this.Parallax.collision,this.Collision=new q,this;console.log("System Collision: No - Parallax system detected")};this.Particle=function(){if(k||x||u||q)return t=this.Parallax.particle,this.Particle=new t,this;console.log("System Particle: No - Entity, Physic, Bound or Collision detected")};this.Rig=function(){if(k||x||u||q)return l=this.Parallax.rig,this.Rig=new l,this;console.log("System Rig: No - Entity, Physic, Bound or Collision detected")};return this instanceof a?this.That:
new a}};b.addon.runtime.system.pointer=function(){var a=this.constructor,b={},c={},e={};this.bind=function(a,e){b=a;c=e;return this};this.result=function(a){e=a;return this};this.init=function(){c.onmousedown=c.ontouchstart=function(a){a.preventDefault();if(b.enabled)if(a.changedTouches)for(var c=0,g=a.changedTouches.length;c<g;c++)d(!0,b,a.changedTouches[c].identifier,a,this,function(a){e(a)});else d(!1,b,0,a,this,function(a){e(a)})};c.onmousemove=c.ontouchmove=function(a){a.preventDefault();if(b.inUse)if(a.changedTouches)for(var c=
0,g=a.changedTouches.length;c<g;c++)d(!0,b,a.changedTouches[c].identifier,a,this,function(a){e(a)},!0);else d(!1,b,0,a,this,function(a){e(a)},!0);else a.changedTouches||d(!1,b,0,a,this,function(a){e(a)},!0)};c.onmouseup=c.ontouchend=function(a){a.preventDefault();if(b.enabled)if(a.changedTouches)for(var c=0,g=a.changedTouches.length;c<g;c++){if(!f(a.targetTouches,a.changedTouches[c].identifier)){var u=a.changedTouches[c].identifier;d(!0,b,u,a,this,function(a){e(a)});delete b[u]}}else d(!1,b,0,a,this,
function(a){e(a)}),b.inUse=!1,delete b[0]};return this};var d=function(a,c,e,g,d,f,h){c[e]=g;c[e].normal={};c[e].viewport={};if(a)if(g.targetTouches[e])var k=g.targetTouches[e];else if(console.log("touch missed"),g.changedTouches[e])k=g.changedTouches[e];else{console.log("exiting");return}else k=g;c[e].normal.x=(k.pageX-d.offsetLeft)/d.clientWidth;c[e].normal.y=(k.pageY-d.offsetTop)/d.clientHeight;c[e].viewport.x=2*c[e].normal.x-1;c[e].viewport.y=2*-c[e].normal.y+1;f(c[e]);if(!h){if("mousedown"==
g.type||"touchstart"==g.type)b.inUse=!0;if("mouseup"==g.type||"touchend"==g.type)b.inUse=!1;a&&(b.multi=!1,0==k.length?b.inUse=!1:1<k.length&&(b.multi=!0));c[e].area=0<k.pageX?"right":"left"}},f=function(a,b){for(var c=0,e=a.length;c<e;c++)if(a[c].identifier===b)return!0;return!1};return this instanceof a?this.That:new a};b.addon.runtime.system.knob=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof
a?this.That:new a};b.addon.runtime.system.subject=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.marquee=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid=function(){var a=this.constructor;
this.layers={};var b=[],c=[],e=0,d={};this.update=function(){return this};this.mode=function(a){return this};this.dir=function(a){this.dir=a;return this};this.batches=function(){b=arguments;return this};this.offsets=function(){c=arguments;return this};this.properties=function(a){e=a.count;this.name=a.name;this.columns=a.columns;this.rows=a.rows;d.width=a.width;d.height=a.height;return this};this.syntax=function(a){this.syntax=a;return this};this.assign=function(a){this.assign=a;return this};this.init=
function(){for(var a=0;a<b.length;a++){this.batch={name:b[a],index:a};this.layers[this.batch.name]={offset:c[a],update:this.update,grid:[]};for(var g=0;g<e;g++){var x=g/this.columns<<0,u=g-x*this.columns;this.layers[this.batch.name].grid[u]||(this.layers[this.batch.name].grid[u]=[]);this.layers[this.batch.name].grid[u][x]={};this.layers[this.batch.name].grid[u][x]=this.assign(this.syntax(g),g,this.batch,u,x,d,this.layers[this.batch.name].grid[u][x])}}return this.layers};for(var f in a)this[f]=a[f];
return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax=function(){var a=this.constructor;this.update=function(){return this};this.field=function(a){return this};this.separation=function(){return this};this.update=function(){return this};this.func=function(){return this};this.move=function(){return this};this.init=function(){return this};for(var b in a)this[b]=a[b];return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.entity=function(){var a=this.constructor;
this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.physic=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.bound=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};
this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.collision=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.runtime.system.grid.parallax.particle=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof
a?this.That:new a};b.addon.runtime.system.grid.parallax.rig=function(){var a=this.constructor;this.bind=function(){return this};this.result=function(a){return this};this.init=function(){return this};return this instanceof a?this.That:new a};b.addon.binding=function(){var a=b.addon.binding={};a.init=function(){if(!e.access)return this.queue.apply(this,arguments);e.access.defaults.relative=e.access.defaults.relative||!1;e.access.bindings=e[arguments[0]]=e[arguments[0]]||{stream:arguments[0],data:[],
nodesPerStream:0,propsPerNode:arguments[3]?arguments[3].length:arguments[2]?arguments[2].length:0,propDataLength:b.length,propsPerNodeList:[],state:"prebuff",continuancePosValData0:1,reversion:function(a){return a-this.propDataLength*(a/this.propDataLength<<0)+this.continuancePosValData0}};var c=e.access.bindings.propsPerNodeList,d=c.length-1;e[arguments[0]].nodesPerStream+=arguments[1].length;var g=arguments[0],q=e[g];q.length=q.length||b.length;q.ids=q.ids||{};var h=arguments[1],p=b.length;h[0][0].type=
h[0][0].type?"translation"==h[0][0].type||"radian"==h[0][0].type||"poly"==h[0][0].type||"uniform"==h[0][0].type||"position"==h[0][0].type||"rotation"==h[0][0].type||"scale"==h[0][0].type||"f"==h[0][0].type||"Vector3"==h[0][0].constructor.name||"Euler"==h[0][0].constructor.name?h[0][0].type:arguments[2][0][0]:arguments[2][0][0];var z=h[0][0].type=Math.Type.identify(h[0][0]);a.buffIdKey=a.buffIdKey||800;a.propIdKey="radian"==z?806:801;for(var v=arguments[5]||Math.Type.precision(z),I=arguments[4]||e.access.defaults.relative,
D=[],w={};0<h.length;){w.buffKey=h[0][1]||a.buffIdKey;w.props="poly"==z?Math.Poly.generate(z,arguments[2][0][1],v):Math.Type.convertToPrecisionDataType(z,arguments[2].concat(),1,2,v);var C="poly"==z?Math.Poly.generateKeys(arguments[2][0][1],arguments[3]?arguments[3][arguments[3].length-1]:a.propIdKey):arguments[3]?arguments[3].concat():Math.Poly.generateKeys(arguments[2],arguments[3]?arguments[3][arguments[3].length-1]:a.propIdKey);c[d]!=C.length&&(c[w.buffKey]=C.length);q.propsPerNode=C.length>q.propsPerNode?
C.length:q.propsPerNode;q.ids["_bi"+w.buffKey]=new (function(b){return function(c){h[0][0]=h[0][0]||{};var e=function(){this.binding="_bi"+b.buffKey;this.position=q.data.length;this.relative=I;this.conversion=z;this.precision=v;this.then=f;this.wait=l;this.hold=m;this["break"]=A;this.at=F;for(var a in this.__proto__)this[a]=this.__proto__[a],delete this.__proto__[a];return this instanceof e?this.exec:new e};q.data.push(a.buffIdKey=b.buffKey);a.buffIdKey++;for(var k={};0<b.props.length;)k.propKey=
c[0]||a.propIdKey,this[k.propKey]=new (function(a){return function(b){if("poly"!=z&&h[0][0][b[0][0]]&&"undefined"!=typeof h[0][0][b[0][0]].value){this.property=b[0][0];var c="value"}else c=b[0][0];this.binding=c;b[0][1]=b[0][1]||0;this.value=b[0][1];"poly"!=z&&h[0][0][b[0][0]]&&"undefined"!=typeof h[0][0][b[0][0]].value?h[0][0][b[0][0]].value="value"==b[0][0]?b[0][1]:b[0][1]/v:h[0][0][b[0][0]]="value"==b[0][0]?b[0][1]:b[0][1]/v;e.prototype[b[0][0]]=function(a,b,c,e,k,d,g,f){this.then(a,b,c,e,k,d,
g,f,this);return this};e.prototype[b[0][0]].lastOffset=0;e.prototype[b[0][0]].lastVal=void 0;e.prototype[b[0][0]].binding=a.propKey;e.prototype[b[0][0]].data0PosI=q.data.length+1;e.prototype[b[0][0]].node=h[0][0];e.prototype[b[0][0]].then=function(a,b,c,e,k,d,f,h){this.node[g].then(a,b,c,e,k,d,f,h,this);return this.node[g]};e.prototype[b[0][0]].wait=function(a,b,c,e,k,d){this.node[g].wait(a,b,c,e,k,d,this);return this.node[g]};e.prototype[b[0][0]].hold=function(a,b,c,e,k,d,f){this.node[g].hold(a,
b,c,e,k,d,f,this);return this.node[g]};e.prototype[b[0][0]]["break"]=function(a,b,c,e,k,d){this.node[g]["break"](a,b,c,e,k,d,this);return this.node[g]};e.prototype[b[0][0]].at=function(a,b,c,e,k,d){this.node[g].at(a,b,c,e,k,d,this);return this.node[g]};q.data.push(a.propKey);q.data.push(1);for(c=0;c<p;c++)b[0][2]?I?q.data.push((b[0][2]-b[0][1])/p):q.data.push(b[0][1]+(b[0][2]-b[0][1])/p*c):I?q.data.push(0):q.data.push(b[0][1])}}(k))(b.props),c.shift(),b.props.shift(),a.propIdKey=k.propKey,a.propIdKey++,
k={propKey:k.propKey};h[0][0][g]=new e;delete h[0][0].type;this.node=h[0][0];D.push(this.node)}}(w))(C);h.shift();w={buffKey:w.buffKey,props:w.props}}return D};a.list=[];a.queue=function(){var b=arguments[1];b[0][0]=b[0][0]||{};b[0][0].type=b[0][0].type?"translation"==b[0][0].type||"radian"==b[0][0].type||"poly"==b[0][0].type||"uniform"==b[0][0].type||"position"==b[0][0].type||"rotation"==b[0][0].type||"scale"==b[0][0].type||"f"==b[0][0].type||"Vector3"==b[0][0].constructor.name||"Euler"==b[0][0].constructor.name?
b[0][0].type:arguments[2][0][0]:arguments[2][0][0];var c=b[0][0].type=Math.Type.identify(b[0][0]),e=[],d=0,g="poly"==arguments[2][0][0]?arguments[2][0][1].length:arguments[3]?arguments[3].length:arguments[2]?arguments[2].length:0;a.list=a.list;for(a.list[g]=a.list[g]||[];b.length>d;){for(var f="poly"==c?Math.Poly.generate(c,arguments[2][0][1],1):arguments[2],h=0;f.length>h;)"poly"!=c&&b[d][0][f[h][0]]&&"undefined"!=typeof b[d][0][f[h][0]].value?b[d][0][f[h][0]].value=f[h][1]:"poly"!=c&&(b[d][0][f[h][0]]=
f[h][1]),h++;this.node=b[d][0];e.push(this.node);d++}a.list[g].push(arguments);return e};a.run=function(b,c){console.log("Binding objects to stream - Running queue");for(var e=a.list;0<e.length;){if(e[e.length-1])for(var d=e[e.length-1],g=0;g<d.length;g++)a.init.apply(this,d[g]);e.pop()}b&&b()};this.execBinding=this.execNode=0;var d=function(a,b,c){b=c.node?c:a[b].caller;c=e.access;a.execNode=c.bindings.ids[a.binding].node||a.execNode;a.execBinding=b?c.bindings.ids[a.binding][b.binding].binding:a.execBinding;
a.execData0PosI=a.execNode[c.stream][a.execBinding].data0PosI;a.execByteOffset=c.data[a.execData0PosI];a.execLastOffset="undefined"!=typeof b.lastOffset?b.lastOffset:a.execLastOffset;a.value=a.execLastVal="undefined"!=typeof b.lastVal?b.lastVal:a.execNode[a.execBinding];return a},f=function(a,b,e,g,f,h,p,l,m){a&&b&&e&&(m=m?d(this,"then",m):this,c.exec("timeline",[[[m.execNode],[[m.execLastOffset,m.execBinding,a,m.execLastVal,b,e]]]],!1,void 0,void 0,g,f,h,p,"undefined"==typeof l?!0:l),m.execLastOffset+=
e,m.execLastVal+=a);return m},l=function(a,b,e,g,f,h,p){a&&(p=p?d(this,"wait",p):this,c.valIn("timeline",[p.execNode],[p.execBinding],p.execLastVal,p.execLastOffset,p.execLastOffset+a,void 0,void 0,b,e,g,f,"undefined"==typeof h?!0:h),p.execLastOffset+=a);return p},m=function(a,b,e,g,f,h,p,l){a&&(l=l?d(this,"hold",l):this,c.valIn("timeline",[l.execNode],[l.execBinding],l.execLastVal,l.execLastOffset,l.execLastOffset+a,void 0,void 0,e,g,f,h,"undefined"==typeof p?!0:p),l.execLastOffset+=b||0);return l},
A=function(a,b,c,e,g,f,h){h=h?d(this,"break",h):this;h.execLastOffset+=a||0;return h},F=function(a,b,c,g,h,f,p){p=p?d(this,"at",p):this;a?(p.value=e.access.data[p.execData0PosI+a]/p.precision,p.execLastOffset+=a||0):p.value=e.access.data[p.execByteOffset]/p.precision;return p};return a};var d=b.addon.binding();b.addon.buffer=function(){var a=b.addon.buffer={evals:0};a.update=function(){this.updateCallbacks()};a.updateCalls=[];a.upclen=0;a.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};
a.presets=function(a){for(var b in a)l.presets[b]=a[b]};var c,d,f,l={presets:{}},m=function(a,b,c){for(var e=this.CSPL||{},d=l.presets[a].CPs,f=l.presets[a].duration,h=l.presets[a].precision,g=d.length,p=[],k=0;k<g;k++)p[k]={t:d[k].t/f*b,p:d[k].p/h*c||d[k].p};b=[];d=[];f=[];for(h=0;h<g;h++)k=p[h],b[h]=k.t,d[h]=k.p,f[h]=1;e.getNaturalKs(b,d,f);h=p[0].t;g=p[g-1].t;for(p=new Int32Array(new ArrayBuffer(4*g));h<=g;h++)p[h]=e.evalSpline(h,b,d,f);return[p,c||l.presets[a].precision]};a.eval=function(b,h,
g,p,l,w,z,v,I,D){e.access.defaults.relative=e.access.defaults.relative||!1;g=g||e.access.defaults.relative;for(var k=[],u=0,x=h.length;u<x;u++)for(var q=h[u],n=q[0],t=n.length,B=q[2],G=B.length,A=q[3],L=[],y=0;y<t;y++){for(var r=n[y],H=q[1],E=0,M=H.length;E<M;E++){c=0;if(A)if(1==A)c-=f;else if(1<A||1>A)c+=A;d=0;var Q=H[E];L[E]=H[E][0];for(var O=0,W=Q.length;O<W;O++){var V=Q[O];L[E]=V[0];for(var X=0,U=0;U<G;U++)B[U][1]<<=0,X+=B[U][1];for(U=0;U<G;U++){var Y=B[U];f=Y[1];V[2]=f/X*V[1];V[2]=Math.Type.convertToPrecisionType(r[b].conversion,
V[2]);F(b,r,V,m(Y[0],f,p||f),g,D);c+=f;d+=V[2]}}}w&&a.assignLeap(b,[r],L,!1,c,w,z,v,I);l&&(k[y]=a.getData(b,[r],L,l))}a.evals+=t*G;a.update();return k};a.exec=function(b,h,g,p,l,w,z,v,I,D){e.access.defaults.relative=e.access.defaults.relative||!1;g=g||e.access.defaults.relative;for(var k=[],u=0,x=h.length;u<x;u++){var q=h[u],n=q[0];q=q[1];for(var t=[],G=0,A=n.length;G<A;G++){for(var L=n[G],K=d=c=0,y=q.length;K<y;K++){var r=q[K],H=r[0],E=[t[K]=r[1],r[2]],M=[r[4],r[5]];d+=Math.Type.convertToPrecisionType(L[b].conversion,
r[3])||0;c=0;if(H)if(1==H)c-=f;else if(1<H||1>H)c+=H;f=M[1];E[2]=Math.Type.convertToPrecisionType(L[b].conversion,E[1]);F(b,L,E,m(M[0],f,p||f),g,D,!0);c+=f}w&&a.assignLeap(b,[L],[t],!1,c,w,z,v,I);l&&(k[G]=a.getData(b,[L],[t],l))}a.evals+=q.length}a.update();return k};a.execLerp=function(b,c,d,f,h,g,p,l,w,D,A,C,F,L,n,N,B,J,R,K){g="prebuff"==e[b].state?e[b]:e.access;l=g.propDataLength+1;f=f[b][h].data0PosI;A-=D;C=m(C||"linear",A,A);F=F||1;if(c&&d)for(h=0,w=c.length;h<w;h++)for(var k=c[h][b],u=0,q=d.length;u<
q;u++)for(var x=k[d[u]].data0PosI,t=g.data[x+D+1],z=0;z<A;z++){var v=D+z;v=v<l?v:g._reversion(v);var I=x+v;K&&g.data[I+1]==g.arguments.leap||(v=Math.lerpSubject(t,g.data[f+v+1],p*(1-(C[1]-C[0][z])/C[1])),t-=v,g.data[I+1]=t*F)}N&&a.assignLeap(b,[c[0]],d,L,n,N,B,J,R);a.evals+=c.length*d.length;a.update()};a.assignLeap=function(a,b,c,d,f,h,g,p,l){for(var k="prebuff"==e[a].state?e[a]:e.access,u=k.propDataLength+1,q=0,x=b.length;q<x;q++)for(var m=b[q][a],n=0,w=c.length;n<w;n++){var t=m[c[n]],z=t.data0PosI,
v=k.data[z];if(t.leap&&g){var A=t.leap.dataPosI;k.data[A]=0}t.leap={callback:h,dataPos:d?f:v+f,dispose:"undefined"==typeof p?!0:p,zeroIn:l};v=t.leap.dataPos;v=v<u?v:k._reversion(v);z+=v;k.data[z]=k.arguments.leap;t.leap.dataPosI=z}};var F=function(b,f,h,g,p,l,m){var k=f[h[0]].value?"value"==h[0]?f[h[0]].value:f[h[0]].value*f[b].precision:"value"==h[0]?f[h[0]]:f[h[0]]*f[b].precision;k=m?d:k+d;f=f[b][h[0]].data0PosI;b="prebuff"==e[b].state?e[b]:e.access;m=b.data[f];m+=c;var q=b.propDataLength+1;h=h[2];
var u=g[0];g=g[1];for(var x=u.length,w=0;w<x;w++){var t=m+w;t=t<q?t:b._reversion(t);t=f+t;l&&b.data[t]==b.arguments.leap||(b.data[t]=p?b.data[t]+((u[w]-(u[w+1]||0))/(g/h)<<0):k+(g-u[w])/g*h<<0)}a.update()};a.zeroOut=function(a,b,c,d,f,h){var g="prebuff"==e[a].state?e[a]:e.access,p=g.propDataLength+1;c-=b;if(d&&f)for(var k=0,u=d.length;k<u;k++)for(var q=d[k][a],l=0,x=f.length;l<x;l++)for(var m=q[f[l]].data0PosI,n=0;n<c;n++){var w=b+n;w=w<p?w:g._reversion(w);w=m+w;h&&g.data[w+1]==g.arguments.leap||
(g.data[w+1]=0)}else for(k in g.bindings.ids)for(u in d=g.bindings.ids[k].node[a],d)if(d[u].data0PosI)for(f=d[u].data0PosI,q=0;q<c;q++)l=b+q,l=l<p?l:g._reversion(l),l=f+l,h&&g.data[l+1]==g.arguments.leap||(g.data[l+1]=0)};a.valIn=function(b,c,d,f,h,g,p,l,m,w,A,F,L,T){var k="prebuff"==e[b].state?e[b]:e.access,q=k.propDataLength+1;if(c&&d)for(var u=0,x=c.length;u<x;u++){var t=c[u][b];p=p||t.precision;for(var v=0,D=d.length;v<D;v++)for(var r=t[d[v]].data0PosI,z=g-h,I=0;I<z;I++){var G=h+I;G=G<q?G:k._reversion(G);
G=r+G;T&&k.data[G+1]==k.arguments.leap||(k.data[G+1]=Math.Type.convertToPrecisionType(t.conversion,f,p))}}w&&a.assignLeap(b,[c[0]],d,l,m,w,A,F,L)};a.getforwardData=function(a,b,c,d,f){for(var h="prebuff"==e[a].state?e[a]:e.access,g=h.propDataLength+1,p=[],k=0,l=b.length;k<l;k++){var u=b[k][a];p[k]={};for(var q=0,x=c.length;q<x;q++)for(var m=c[q],n=u[m].data0PosI,w=h.data[n]+2,t=p[k][m]=0;t<d;t++){var A=w+t;A=A<g?A:h._reversion(A);A=n+A;f&&h.data[A+1]==h.arguments.leap||(p[k][m]+=h.data[A+1]/u.precision)}}return p};
a.injectData=function(a,b,c,d,f,h,g,p,l){for(var k="prebuff"==e[a].state?e[a]:e.access,u=k.propDataLength,q=0,x=b.length;q<x;q++){var m=b[q][a];g*=m.precision;p*=m.precision;for(var n=0,w=c.length;n<w;n++){var t=m["poly"==m.conversion?0:c[n]].data0PosI;var A=k.data[t];for(var F=0;F<f;F++){var L=A+F;L=L<u?L:k._reversion(L);if("poly"==m.conversion){var v=0;for(w=d.length;v<w;v++){t=m[v].data0PosI;var r=t+L;l&&k.data[r]==k.arguments.leap||(k.data[r]=h?d[v]*m.precision+k.data[r]:d[v]*m.precision,k.data[r]=
k.data[r]<g?g:k.data[r]>p?p:k.data[r])}}else r=t+L,l&&k.data[r]==k.arguments.leap||(k.data[r]=h?d*m.precision+k.data[r]:d*m.precision,k.data[r]=k.data[r]<g?g:k.data[r]>p?p:k.data[r])}}}};a.list=[];a.queue=function(){a.list=a.list;a.list.push(arguments);return a.list.length-1};a.run=function(b){for(var c=a.list;0<c.length;){var e=Array.prototype.shift.apply(c[0]);a[e].apply(this,c[0]);c.shift()}b&&b()};a.loadData=function(b,c,e,d,f,h){var g=new window.XMLHttpRequest;g.open("GET",c,!0);g.responseType=
"text";g.callback=d;g.onload=function(){var c=this.response;c=c.split(",");var d=Array.prototype.shift.apply(c),g=Array.prototype.shift.apply(c);a.buffinData(b,c,e,f||d<<0,h||g<<0);this.callback&&this.callback()};g.send()};a.buffinData=function(a,b,c,d,f){for(var h=e[a].state,g="prebuff"==h?e[a]:e.access,p=1+f,k=0,l=0,q=0;k<b.length;k++){if(0==(k-0)%d){var u=b[k];k++;l=1;q++}if(0==(k-q)%p){var m=b[k];k++;l++;q++}var x="prebuff"==h?g.ids["_bi"+u]:g.bindings.ids["_bi"+u];x=x.node[a][x[m].binding].data0PosI;
for(var n=0;n<f;n++)g.data[x+c+n]=b[k],k++}};a.getData=function(b,c,d,f,h,g,p){g="prebuff"==e[b].state?e[b]:e.access;h=h?h<f||h>g.propDataLength?g.propDataLength:h:g.propDataLength;f=f?h&&f>h||f>g.propDataLength?0:f:0;return a.buffoutData(b,c,d,f,h)};a.saveData=function(a,b){var c=document.createElement("a");document.body.appendChild(c);c.style="display: none";return function(a,b){var e=new window.Blob([[a]],{type:"octet/stream"});e=window.URL.createObjectURL(e);c.href=e;c.download=b;c.click();window.URL.revokeObjectURL(e)}}();
a.buffoutData=function(a,b,c,d,f){var h="prebuff"==e[a].state?e[a]:e.access;f-=d;var g=1+f,p=c?g*c.length+c.length+1:0,k=[p,f];if(b)for(var l=0,m=b.length;l<m;l++){var q=b[l][a];if(!c){c=[];for(var u in q)"undefined"!=typeof b[l][u]&&c.push(u)}0==p&&(p=g*c.length+c.length+1,k=[p,f]);k.push(q.binding.replace("_bi","")<<0);for(var x=0,n=c.length;x<n;x++){var w=q[c[x]];k.push(w.binding);w=w.data0PosI;k.push(h.data[w+d]);for(var A=0;A<f;A++){var t=d+A;t=t<h.propDataLength?t:h._reversion(t);k.push(h.data[w+
t+1])}}}return k};return a};var c=b.addon.buffer();b.addon.buffer.ease=function(){var a=b.addon.buffer.ease={};a.precisions=100;a.update=function(){e=this.precisions;var a=d.precisions,b;for(b in d){for(var f in d[b].CPs)d[b].CPs[f].p=d[b].CPs[f].p/a*e;d[b].duration=d.durations;d[b].precision=e}d.precisions=e;c.presets(d);this.updateCallbacks()};a.updateCalls=[];a.upclen=0;a.updateCallbacks=function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])};var e=a.precisions;
var d={durations:100,precisions:100,linear:{CPs:[{t:0,p:100},{t:50,p:50},{t:100,p:0}]},easeInSine:{CPs:[{t:0,p:100},{t:17,p:96},{t:100,p:0}]},easeOutSine:{CPs:[{t:0,p:100},{t:83,p:3},{t:100,p:0}]},easeInOutSine:{CPs:[{t:0,p:100},{t:19,p:92},{t:81,p:8},{t:100,p:0}]},easeInQuad:{CPs:[{t:0,p:100},{t:32,p:89},{t:75,p:44},{t:100,p:0}]},easeOutQuad:{CPs:[{t:0,p:100},{t:17,p:69},{t:74,p:6},{t:100,p:0}]},easeInOutQuad:{CPs:[{t:0,p:100},{t:17,p:93},{t:35,p:75},{t:55,p:40},{t:80,p:7},{t:100,p:0}]},easeInCubic:{CPs:[{t:0,
p:100},{t:17,p:99},{t:42,p:92},{t:66,p:71},{t:86,p:35},{t:100,p:0}]},easeOutCubic:{CPs:[{t:0,p:100},{t:15,p:59},{t:33,p:30},{t:57,p:8},{t:83,p:0},{t:100,p:0}]},easeInOutCubic:{CPs:[{t:0,p:100},{t:22,p:96},{t:38,p:77},{t:50,p:50},{t:64,p:18},{t:82,p:2},{t:100,p:0}]},easeInQuart:{CPs:[{t:0,p:100},{t:21,p:100},{t:42,p:96},{t:63,p:84},{t:82,p:54},{t:92,p:28},{t:100,p:0}]},easeOutQuart:{CPs:[{t:0,p:100},{t:12,p:58},{t:27,p:28},{t:45,p:9},{t:66,p:1},{t:81,p:0},{t:100,p:0}]},easeInOutQuart:{CPs:[{t:0,p:100},
{t:15,p:100},{t:28,p:94},{t:41,p:76},{t:50,p:49},{t:57,p:26},{t:68,p:8},{t:84,p:0},{t:100,p:0}]},easeInQuint:{CPs:[{t:0,p:100},{t:24,p:100},{t:43,p:98},{t:64,p:89},{t:81,p:64},{t:93,p:28},{t:100,p:0}]},easeOutQuint:{CPs:[{t:0,p:100},{t:9,p:61},{t:23,p:26},{t:37,p:10},{t:59,p:1},{t:78,p:0},{t:100,p:0}]},easeInOutQuint:{CPs:[{t:0,p:100},{t:16,p:99},{t:28,p:96},{t:45,p:70},{t:52,p:39},{t:60,p:17},{t:75,p:1},{t:88,p:0},{t:100,p:0}]},easeInExpo:{CPs:[{t:0,p:100},{t:9,p:99},{t:56,p:94},{t:72,p:85},{t:83,
p:69},{t:92,p:42},{t:100,p:0}]},easeOutExpo:{CPs:[{t:0,p:100},{t:5,p:70},{t:22,p:21},{t:48,p:3},{t:64,p:1},{t:93,p:0},{t:100,p:0}]},easeInOutExpo:{CPs:[{t:0,p:100},{t:11,p:99},{t:21,p:99},{t:30,p:96},{t:38,p:90},{t:47,p:67},{t:53,p:33},{t:60,p:12},{t:72,p:2},{t:79,p:0},{t:85,p:0},{t:100,p:0}]},easeInCirc:{CPs:[{t:0,p:100},{t:33,p:94},{t:54,p:83},{t:81,p:58},{t:94,p:35},{t:99,p:10},{t:100,p:0}]},easeOutCirc:{CPs:[{t:0,p:100},{t:1,p:90},{t:6,p:66},{t:14,p:48},{t:26,p:32},{t:41,p:19},{t:60,p:8},{t:79,
p:2},{t:100,p:0}]},easeInOutCirc:{CPs:[{t:0,p:100},{t:17,p:97},{t:27,p:92},{t:37,p:83},{t:44,p:74},{t:47,p:67},{t:49,p:60},{t:50,p:50},{t:51,p:41},{t:53,p:31},{t:57,p:22},{t:62,p:17},{t:71,p:9},{t:82,p:3},{t:100,p:0}]},easeInBack:{CPs:[{t:0,p:100},{t:4,p:100},{t:64,p:100},{t:86,p:53},{t:100,p:0}]},easeOutBack:{CPs:[{t:0,p:100},{t:3,p:86},{t:35,p:1},{t:95,p:0},{t:100,p:0}]},easeInOutBack:{CPs:[{t:0,p:100},{t:3,p:100},{t:46,p:69},{t:51,p:44},{t:56,p:22},{t:97,p:0},{t:100,p:0}]},easeInElastic:{CPs:[{t:0,
p:100},{t:8,p:99},{t:15,p:99},{t:22,p:100},{t:32,p:100},{t:41,p:98},{t:47,p:99},{t:63,p:99},{t:74,p:90},{t:93,p:93},{t:95,p:60},{t:100,p:0}]},easeOutElastic:{CPs:[{t:0,p:100},{t:3,p:65},{t:7,p:2},{t:26,p:11},{t:38,p:0},{t:56,p:1},{t:69,p:0},{t:75,p:0},{t:83,p:0},{t:90,p:0},{t:100,p:0}]},easeInOutElastic:{CPs:[{t:0,p:100},{t:13,p:100},{t:23,p:99},{t:33,p:99},{t:45,p:95},{t:48,p:67},{t:51,p:41},{t:55,p:4},{t:67,p:0},{t:78,p:0},{t:87,p:0},{t:100,p:0}]},easeInBounce:{CPs:[{t:0,p:100},{t:4,p:98},{t:8,
p:100},{t:12,p:96},{t:23,p:97},{t:26,p:100},{t:28,p:96},{t:60,p:95},{t:63,p:100},{t:68,p:80},{t:87,p:13},{t:100,p:0}]},easeOutBounce:{CPs:[{t:0,p:100},{t:15,p:83},{t:28,p:40},{t:33,p:17},{t:36,p:2},{t:38,p:4},{t:71,p:4},{t:73,p:0},{t:77,p:4},{t:88,p:3},{t:91,p:0},{t:94,p:1},{t:100,p:0}]},easeInOutBounce:{CPs:[{t:0,p:100},{t:3,p:98},{t:5,p:99},{t:9,p:97},{t:13,p:99},{t:16,p:94},{t:28,p:94},{t:31,p:98},{t:37,p:77},{t:44,p:55},{t:55,p:46},{t:64,p:19},{t:68,p:1},{t:72,p:6},{t:82,p:7},{t:86,p:0},{t:91,
p:3},{t:95,p:0},{t:97,p:1},{t:100,p:0}]}};a.update()};b.addon.buffer.ease();b.addon.timeframe=function(){var a=b.addon.timeframe={};a.process=void 0;a.invoke=void 0;a.length=void 0;a.init=!1;a.ready=!1;a.running=!1;a.control=!1;a.lapse=10;a.duration=a._duration=0;a.read=0;a.thrust=0;a.mode="2d";a.runtime=function(){this.runtimeCallbacks()};a.runtimeAuthority=function(a,b,c){e[b].script[c]=a};a.clearRuntimeAuthority=function(a,b){isNaN(b)?e[a].script=[]:e[a].script[b]&&e[a].script.splice(b,1)};a.clearRuntimeAuthoritiesNear=
function(a,b,c){this.timeline.removeInsertsNear(a,b,c);var d=b+c;for(b-=c;b<d;b++)this.clearRuntimeAuthority(a,b)};a.revert=function(a){this.revertCallbacks(a)};a.revertCalls=[];a.rrclen=0;a.revertCallbacks=function(a){for(var b=0;b<this.rrclen;b++)this.revertCalls[b][1](this.revertCalls[b][0],a)};var c=function(b){a.revert(b)};a.update=function(b){d.process=this.process;d.invoke=this.invoke;d.length=this.length;d.running=this.running;d.lapse=this.lapse;this.updateCallbacks&&this.updateCallbacks();
"3d"==a.mode?(l(),F()):(m(),k());b=b?b-1:void 0;e.access.option=d.access;e.access.method="all";e.access.rCount=e.access.tCount=1;b&&a.syncing(b);e.access.output_revertCall=c};a._init=function(a){this.mode=a?a.context?"CanvasRenderingContext2D"==a.context.constructor.name?"2d":"3d":window.canvases?"CanvasRenderingContext2D"==window.canvases["0"].context.constructor.name?"2d":"3d":null:null;this.length=e[e.access.stream].length;this.init=!0};a._forceInit=function(a){window.app.force=!0;window.onresize();
this.mode=a?a.context?"CanvasRenderingContext2D"==a.context.constructor.name?"2d":"3d":window.canvases?"CanvasRenderingContext2D"==window.canvases["0"].context.constructor.name?"2d":"3d":null:null;this.length=e.access.access.prototype.length;this.init=!0};a._ready=function(){this.ready=!0};a.run=function(){!this.running&&this.ready&&(d.now=d._then=Date.now(),this.length=e[e.access.stream]?e[e.access.stream].length:this.length,this.running=!0,this.update(),f())};a.stop=function(a){this.running&&(this.running=
!1,this.update(),window.cancelAnimationFrame(d.animationFrameLoop));a&&(this.duration=a,this.syncing())};a.tick=function(a,b){d.byFrame.exact=a||d.byFrame.exact;d.byFrame.number=b||1;this.running=!1;this.run()};a.keyPauseToggle=function(a){a&&32==a.keyCode&&(this.running?this.stop():this.run())};a.syncing=function(a){e.access._syncOffsets(a||this.duration)};var d={_then:Date.now(),access:"read",_remain:0,lapse:a.lapse,byFrame:{number:0,exact:!1},frame:a},f=function(){d.running&&(window.stats.begin(),
d.now=Date.now(),d._delta=d.now-d._then+d._remain,a[d.access]=d._timeFrame=d._delta/10<<0,a._duration=a.duration+d._timeFrame,d.process(),d._remain=d._delta-10*d._timeFrame,d._then=d.now,0<d._timeFrame&&d._timeFrame<d.lapse&&(a.runtime(),d.byFrame.exact?d.byFrame.exact&&(e.access._process(1),d.byFrame.exact=!1,d.byFrame.number=0,a.stop()):(e.access._process(d._timeFrame),0<d.byFrame.number&&(1==d.byFrame.number&&a.stop(),d.byFrame.number--),a.duration+=d._timeFrame),d.invoke()),d.animationFrameLoop=
window.requestAnimationFrame(f),window.stats.end())};a.switchToTimeFrameThrusting=function(a){d.access="thrust";e.access.defaults.relative=!0;e.access.block=!0;this.update(a)};var l=function(){e.access.output_utilizeThrustData=function(a,b,c){if(0!=a||806==c){b=this.bindings.ids["_bi"+b];var d=b[c];d.value+=a;d.property?b.node[d.property][d.binding]=d.value/b.node[this.stream].precision:b.node[d.binding]=d.value/b.node[this.stream].precision;806==c&&(b.node.blockCallback=!1)}}},m=function(){e.access.output_utilizeThrustData=
function(a,b,c){0!=a&&(b=this.bindings.ids["_bi"+b],c=b[c],c.value+=a,c.property?b.node[c.property][c.binding]=c.value/b.node[this.stream].precision:b.node[c.binding]=c.value/b.node[this.stream].precision)}};a.switchToTimeFrameReading=function(a){d.access="read";e.access.defaults.relative=!0;e.access.block=!0;this.update(a)};var F=function(){e.access.output_utilizeReadData=function(a,b,c){b=this.bindings.ids["_bi"+b];var d=b[c];d.value=a;d.property?b.node[d.property][d.binding]=d.value/b.node[this.stream].precision:
b.node[d.binding]=d.value/b.node[this.stream].precision;806==c&&(b.node.blockCallback=!1)}},k=function(){e.access.output_utilizeReadData=function(a,b,c){b=this.bindings.ids["_bi"+b];c=b[c];c.value=a;c.property?b.node[c.property][c.binding]=c.value/b.node[this.stream].precision:b.node[c.binding]=c.value/b.node[this.stream].precision}};a.resetStreamProperties=function(){e.access.revertFromTo(this.length,0)};window.resizeCalls.push(function(){d.invoke&&d.invoke()});return a};for(var f=b.addon.timeframe(),
m=["comment","segment","action","sound"],l={ci:0};l.ci<m.length;l={ci:l.ci},l.ci++)b.addon.timeframe[m[l.ci]]=function(a){return function(){var b=e[m[a.ci]]={script:[]};b.accessRuntime=void 0;b.runtime=function(a,c,d){if(!f.control){for(c+=d;a<c;a++)b.script[a]&&b.script[a].main();return b.checkNext(c)}};b.accessRevert=void 0;b.revert=function(a,c){if(!f.control)return b.checkNext(a)};b.checkNext=function(a){for(var c=e.access.propDataLength,d=a;d<b.script.length;d++)b.script[d]&&(d<c||c<a)&&(c=d);
return c}}}(l),b.addon.timeframe[m[l.ci]]();b.binding=d;b.buffer=c;// Ease of Use------------------------------------------------------------------------------------------------------------------
b.take = function (obj, instructions) {
    obj = obj.constructor === Array ? obj : [obj]
    var queue = []
    var q = -1
    var pairProp = [['position'], ['rotation'], ['rotate'], ['scale', 'uniform']]
    if (instructions) {

    } else {
        for (let oi = 0; oi < obj.length; oi++) {
            for (let pi = 0; pi < pairProp.length; pi++) {
                let pair = pairProp[pi]
                let prop = pair[0]
                let type = pair[1]
                if (obj[oi][prop]) {
                    q++
                    queue[q] = [undefined, [], [], false]
                    queue[q][0] = 'timeline'
                    obj[oi][prop].type = type || prop
                    let node = []
                    let props = []
                    node.push(obj[oi][prop])
                    if (typeof obj[oi][prop].x != 'undefined') props.push(['x', obj[oi][prop].x])
                    if (typeof obj[oi][prop].y != 'undefined') props.push(['y', obj[oi][prop].y])
                    if (typeof obj[oi][prop].z != 'undefined') props.push(['z', obj[oi][prop].z])
                    if (typeof obj[oi][prop].value != 'undefined') props.push(['value', obj[oi][prop].value])
                    queue[q][1] = [node]
                    queue[q][2] = props
                }
            }
        }
    }

    for (let qi = 0; qi < queue.length; qi++) d.queue.apply(this, queue[qi])
}

// Ease of starting
b.ready = function (canvas) {
    d.run(function () { // run the queues
        c.run()
    })
    f._forceInit(canvas)
    this.build()
}

// Ease of assign
b.timeframe = {
    get process () {
        return b.addon.timeframe.process
    },
    set process (func) {
        b.addon.timeframe.process = func
    },
    get invoke () {
        return b.addon.timeframe.invoke
    },
    set invoke (func) {
        b.addon.timeframe.invoke = func
    },
    get update () {
        b.addon.timeframe.update.apply(b.addon.timeframe)
    },
    set update (func) {
        return b.addon.timeframe.update
    },
    get switchTo () {
        return b.addon.runtime.access.option
    },
    set switchTo (func) {
        if (arguments[0] == 'thrust' || arguments[0] == 'thrusting') b.addon.timeframe.switchToTimeFrameThrusting.apply(b.addon.timeframe); else b.addon.timeframe.switchToTimeFrameReading.apply(b.addon.timeframe)
    }
}
b.timeframe.process = b.addon.timeframe.process = function () {}
b.timeframe.invoke = b.addon.timeframe.invoke = function () {}
b.timeframe.update = b.addon.timeframe.update
// Ease of Use------------------------------------------------------------------------------------------------------------------
},function(a){new function(a,e,d,c){this.gui={};this.gui.addon={bind:{}};this.gui.addon.bind.onchange=function(a,b){a.onChange(function(a){b(this)})};var b=function(a,b,c){a[b]||(a[b]=function(){this[b+"Callbacks"]()});a[b+"Calls"]=[];a[c]=0;a[b+"Callbacks"]=function(){for(var a=0;a<this[c];a++)this[b+"Calls"][a][1](this[b+"Calls"][a][0])}};this.gui.addon.bind.oninit=function(a,c,d){c.initCalls||b(c,"init","inclen");c.initCalls.push([a,
d]);c.inclen++};this.gui.addon.bind.onready=function(a,c,d){c.readyCalls||b(c,"ready","rdclen");c.readyCalls.push([a,d]);c.rdclen++};this.gui.addon.bind.onupdate=function(a,c,d){c.updateCalls||b(c,"update","upclen");c.updateCalls.push([a,d]);c.upclen++};this.gui.addon.bind.onruntime=function(a,c,d){c.runtimeCalls||b(c,"runtime","ruclen");c.runtimeCalls.push([a,d]);c.ruclen++};this.gui.addon.bind.onrevert=function(a,c,d){c.revertCalls||b(c,"revert","rrclen");c.revertCalls.push([a,d]);c.rrclen++};this.gui.addon.bind.onpass=
function(a,c,d){c.passCalls||b(c,"pass","paclen");c.passCalls.push([a,d]);c.paclen++};c(this.gui,e,d)}(this.dat,a,this.app,function(a,e,d){a.addon.app=function(a){var b={};a.fullScreenHandler="undefined"!=typeof document.fullscreenElement?{event:"fullscreenChange",state:"fullscreen"}:"undefined"!=typeof document.msFullscreenElement?{event:"MSFullscreenChange",state:"fullscreen"}:"undefined"!=typeof document.mozFullScreenElement?{event:"mozfullscreenchange",state:"mozFullScreen"}:"undefined"!=typeof document.webkitFullscreenElement?
{event:"webkitfullscreenchange",state:"webkitIsFullScreen"}:{event:"fullscreenchange",state:"fullscreen"};document.addEventListener(a.fullScreenHandler.event,function(b){b.preventDefault();a.fullscreenEnabled=document[a.fullScreenHandler.state];window.setTimeout(window.onresize(),1E3)},!1);b.resolution={r2160p:[3840,2160],r1440p:[2560,1440],r1080p:[1920,1080],r720p:[1280,720],r480p:[854,480],r360p:[640,360],r240p:[426,240]};d.resolution.update=function(a){window.changeResolution({width:b.resolution[a][0],
height:b.resolution[a][1]})}("r720p");return b}(a);a.addon.Streaming=a.addon.Streaming=e.prototype.addon;var b=a.addon.Streaming.timeframe,f=a.addon.Streaming.timeframe.timeline=function(a,c){var d={segment:0,init:void 0,ready:void 0,update:function(a){d.updateCallbacks()},updateCalls:[],upclen:0,updateCallbacks:function(){for(var a=0;a<this.upclen;a++)this.updateCalls[a][1](this.updateCalls[a][0])},pass:function(a){d.passCallbacks()},passCalls:[],paclen:0,passCallbacks:function(){for(var a=0;a<this.paclen;a++)this.passCalls[a][1](this.passCalls[a][0])}},
e=function(a){b.duration>b.length&&(b.duration+=b.length-b.duration);d.seek.position=b.duration/b.length*100;a.style.left=d.seek.position+"%";d.seek.position-d.prevSegmentPos>d.segmentPos-d.prevSegmentPos&&d.checkPassSegment();d.update()},f=function(){k.style.width=c.width-395+"px";d.seek.width=d.seek.span.element.clientWidth},h=c.element||document.body,g=document.createElement("style");g.id="timelineStyle";g.innerHTML="#timeline, .TL div {position: absolute;}\n                #timeline {width: 75%; height: 65px; top: 17px; left: 100px; z-index: 22;}\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;}\n                .info.dg {display:none}\n                .info.dg, .info.dg div {height: 15px; width: 150px;}\n                .info.top {top: -14px;}\n                .info.bottom {top: 68px;}\n                .info .text {text-align: center; left: -75px;}\n                .info .bg {background: black; opacity: 0.5; left: -75px;}\n                .TL .left, .TL .right, .TL .span {width: 5px; height: 29px; top: 0px;}\n                .TL .left {left: 0px; background: transparent url("+
c.vscode._fileLocal+"assets/left-slide.png) no-repeat left top;}\n                .TL .right {right: -10px; background: transparent url("+c.vscode._fileLocal+"assets/right-slide.png) no-repeat right top;}\n                .TL .span {width: 100%; left: 5px; background: transparent url("+c.vscode._fileLocal+"assets/center-slide.png) repeat-x left top;}\n                .TL .comment {width: 15px; height: 14px; top: 25px; left: 5%; background: transparent url("+c.vscode._fileLocal+"assets/comment.png) no-repeat left top; cursor: pointer}\n                .TL .segment {width: 1px; height: 17px; top: 27px; left: 10%; border:#666 solid 1px; background: #fff; opacity: 0.50; cursor: pointer}\n                .TL .seek {background: #666; top: 4px; width: 1px; left: 0%; height: 21px;}\n                .TL .bar {background: #bbb none repeat scroll 0 0; border-radius: 10px; border-top: 1px solid #fff; height: 23px; opacity: 0.1; top: 44px; width: 100%;}\n                .TL .slider {background: transparent url("+
c.vscode._fileLocal+"assets/slider.png) no-repeat center bottom; bottom: -43px; width: 40px; left: -20px; height: 36px;}\n                .TL .action {border:#666 solid 1px; background: #ff0000; top: 4px; width: 5px; height: 7px; cursor: pointer}\n                .TL .sound {border:#666 solid 1px; background: #fff; top: 17px; width: 5px; height: 7px; cursor: pointer}\n                .TL .dialog {display:none; background: #3f3f3f; width: 350px; height: 350px; border-radius: 10px; border: #555 1px solid; top: 115px; margin: auto; position: relative; color: #dadada; font-family: verdana; font-size: 11px; font-weight: bold;}\n                .TL .dialog div {position: unset;}\n                .TL .dialog .title {width: 340px; height: 27px; float: left; font-size: 15px;padding: 22px 0px 3px 10px;}\n                .TL .dialog .description {width: 340px; height: 24px; border-bottom: #222 1px solid; float: left;padding: 0px 0px 0px 10px;font-size: 9px;}\n                .TL .dialog .option {height: 40px; width: 340px; border-top: #555 1px solid; float: left;padding: 10px 0px 3px 10px;}\n                .dialog label {width: 340px; float: left; height: 20px;}\n                .dialog input {width: 30px; background: #333; border: none; color: #fff; border-radius: 5px; padding: 0px 0px 0px 6px;}";
h.appendChild(g);var k=document.createElement("div");k.id="timeline";k.setAttribute("class","TL");g=document.createElement("div");g.setAttribute("class","info top dg");var l=document.createElement("div");l.setAttribute("class","bg");g.appendChild(l);l=document.createElement("div");l.setAttribute("class","text");g.appendChild(l);k.appendChild(g);var m=document.createElement("div");m.setAttribute("class","left");var q=document.createElement("div");q.setAttribute("class","right");var t=document.createElement("div");
t.setAttribute("class","span");var G=document.createElement("div");G.setAttribute("class","bar");t.appendChild(G);var z=document.createElement("div");z.setAttribute("class","slider");var v=document.createElement("div");v.style.left="0%";v.setAttribute("class","seek");v.appendChild(z);t.appendChild(v);k.appendChild(m);k.appendChild(t);k.appendChild(q);h.appendChild(k);d.element=k;d.seek={element:v,position:void 0,width:t.clientWidth,slider:{element:z},span:{element:t},bar:{element:G},info:{element:g,
text:l}};d.prevSegmentPos=void 0;d.segmentPos=void 0;d.nextSegmentPos=void 0;d.passSegment=void 0;d.callbackPass={list:[],count:0};var I,D,P,C,S,T,n,N,B,J,R,K,y,r,H,E,M,Q;d.refresh=function(){I=document.getElementsByClassName("action");D=document.getElementById("actionjson");P=document.getElementsByClassName("actionscript");C=I.length;S=new Int32Array(new ArrayBuffer(4*C));for(var a=0;a<C;a++)S[a]=parseInt(I[a].style.left);T=document.getElementsByClassName("sound");n=document.getElementById("soundjson");
N=document.getElementsByClassName("soundscript");B=T.length;J=document.getElementsByClassName("comment");R=document.getElementById("commentjson");K=document.getElementsByClassName("commentscript");y=J.length;r=document.getElementsByClassName("segment");H=document.getElementById("segmentjson");E=document.getElementsByClassName("segmentscript");M=r.length;Q=new Int32Array(new ArrayBuffer(4*M));for(a=0;a<M;a++)Q[a]=parseInt(r[a].style.left)||1;this.checkPassSegment()};d.checkPassSegment=function(){for(var a=
this.passSegment=0;a<M;a++)this.seek.position>=Q[a]&&this.passSegment++;this.prevSegmentPos=Q[this.segment-1]||0;this.segmentPos=Q[this.segment]||100;this.nextSegmentPos=Q[this.segment+1]||100;this.pass()};d.removeInsertsNear=function(a,b,c){var d=b+c;for(b-=c;b<d;b++)this.removeInsertAt(a,b)};d.removeInsertAt=function(a,b){for(var c=this.seek.span.element.getElementsByClassName(a),d=0;d<c.length;d++)c[d].id==b&&c[d].parentNode.removeChild(c[d])};d.destroy=function(a,c){a=a||["action","sound","comment",
"segment"];a=a.constructor===Array?a:[a];for(var d=0;d<a.length;d++){b.clearRuntimeAuthority(a[d]);for(var e=this.seek.span.element.getElementsByClassName(a[d]);0<e.length;)e[0].parentNode.removeChild(e[0]);if("action"==a[d]){for(e=C-1;-1<e;e--)P[e]&&document.getElementsByTagName("body")[0].removeChild(P[e]);D&&document.getElementsByTagName("body")[0].removeChild(D)}else if("sound"==a[d]){for(e=B-1;-1<e;e--)N[e]&&document.getElementsByTagName("body")[0].removeChild(N[e]);n&&document.getElementsByTagName("body")[0].removeChild(n)}else if("comment"==
a[d]){for(e=y-1;-1<e;e--)K[e]&&document.getElementsByTagName("body")[0].removeChild(K[e]);R&&document.getElementsByTagName("body")[0].removeChild(R)}else if("segment"==a[d]){for(e=M-1;-1<e;e--)E[e]&&document.getElementsByTagName("body")[0].removeChild(E[e]);H&&document.getElementsByTagName("body")[0].removeChild(H)}}("undefined"==typeof c||c)&&this.refresh()};d.destroy();var O=document.getElementsByClassName("rec");window.clearInterval(window.interval);window.interval=window.setInterval(function(){for(var a=
0;a<O.length;a++)"rec on"==O[a].className?O[a].className="rec off":"rec off"==O[a].className?O[a].className="rec on":"rec seg"==O[a].className&&(O[a].innerHTML=d.segment)},1E3);var W=function(){setTimeout(function(){if(b.init&&d.init){4!=d.initCalls.length&&W();d.init();var a=function(){setTimeout(function(){b.ready&&d.ready?(this.app.ready=!0,d.ready()):a()},0)};a()}else W()},0)};W();a.addon.bind.onrevert(v,b,function(a,c){b.duration=c;e(a);d.checkPassSegment()});a.addon.bind.onruntime(v,
b,e);f();window.resizeCalls.push(f);return d}(a,d),m=function(a){var c=a.addon.Streaming.timeframe.timeline.seek;c.start=!1;var d=0,e=0;c.slider.element.addEventListener("mousedown",function(a){a.preventDefault();if(!c.start){c.start=!0;b.stop();var g=this;e=a.pageX-g.offsetLeft+document.body.scrollLeft;c.info.text.innerHTML="Playback: drag/release";c.info.element.setAttribute("class","info bottom dg");c.info.element.style.display="inline";c.info.element.style.left=c.position+"%";var h=function(a){a.preventDefault();
d=a.pageX-g.offsetLeft+document.body.scrollLeft;4<Math.abs(d-e)&&(f.element.removeEventListener("mouseup",l),f.element.removeEventListener("mousemove",h),f.element.addEventListener("mousemove",c.ondrag),f.element.addEventListener("mouseup",c.ondrop))};f.element.addEventListener("mousemove",h);var l=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();b.run();c.start=!1;f.element.removeEventListener("mouseup",l);f.element.removeEventListener("mousemove",h);c.info.text.innerHTML=
"";c.info.element.style.display=""};f.element.addEventListener("mouseup",l)}});c.slider.element.style.cursor="pointer";c.info.text.innerHTML="Playback: press to play";c.info.element.setAttribute("class","info bottom dg");c.info.element.style.display="inline";c.info.element.style.left=c.position+"%";c.ondrag=function(a){a.preventDefault();d=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;g(d/c.width*100);c.info.text.innerHTML="Playback: "+(c.position/100*b.length<<0)};c.ondragInFrame=function(a){a.preventDefault();
d=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;g(d/c.width*100);l(void 0);b.tick(void 0,void 0);c.info.text.innerHTML="Seek: "+(c.position/100*b.length<<0)};b.goTo=function(a){l(a);g(b.duration/b.length*100)};c.ondrop=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();c.start=!1;l(void 0);b.run();f.element.removeEventListener("mousemove",c.ondrag);f.element.removeEventListener("mouseup",c.ondrop);c.info.text.innerHTML="";c.info.element.style.display=""};
c.ondropInFrame=function(a){a.preventDefault();c.start=!1;l(void 0);b.tick(void 0,void 0);f.element.removeEventListener("mousemove",c.ondragInFrame);f.element.removeEventListener("mouseup",c.ondropInFrame);c.info.text.innerHTML="Playback: press to play"};c.goInFrame=function(a,d,e){l(e);b.tick(a,d);c.info.text.innerHTML="Playback: press to play";c.info.element.setAttribute("class","info bottom dg")};var g=function(a){c.position=a;c.position=100<c.position?100:0>c.position?0:c.position;c.element.style.left=
c.info.element.style.left=c.position+"%"},l=function(a){b.duration=a||c.position/100*b.length<<0;b.syncing();f.checkPassSegment()};a.addon.bind.onready(c,f,function(){setTimeout(function(){window.onresize();c.info.text.innerHTML="";b.run()},500)});return c}(a);a.addon.Streaming.timeframe.timeline.seek.bar=function(a){a=a.addon.Streaming.timeframe.timeline.seek.bar;var c=0,d=0;a.element.addEventListener("mousedown",function(a){a.preventDefault();if(!m.start){m.start=!0;var e=this;d=a.pageX-e.offsetLeft+
document.body.scrollLeft;m.info.text.innerHTML="Seek: drag/release";m.info.element.setAttribute("class","info bottom dg");m.info.element.style.display="inline";m.info.element.style.left=(d-(f.element.offsetLeft-5))/m.width*100+"%";var g=function(a){a.preventDefault();c=a.pageX-e.offsetLeft+document.body.scrollLeft;4<Math.abs(c-d)&&(b.resetStreamProperties(),b.switchToTimeFrameReading(),f.element.removeEventListener("mouseup",h),f.element.removeEventListener("mousemove",g),f.element.addEventListener("mousemove",
m.ondragInFrame),f.element.addEventListener("mouseup",m.ondropInFrame))};f.element.addEventListener("mousemove",g);var h=function(a){a.preventDefault();b.resetStreamProperties();b.switchToTimeFrameReading();c=a.pageX-f.element.offsetLeft-5+document.body.scrollLeft;m.position=c/m.width*100;m.position=100<m.position?100:0>m.position?0:m.position;m.element.style.left=m.position+"%";m.start=!1;m.goInFrame();f.element.removeEventListener("mouseup",h);f.element.removeEventListener("mousemove",g)};f.element.addEventListener("mouseup",
h)}});a.element.style.cursor="pointer";return a}(a);var l=a.addon.Streaming.timeframe.timeline.seek.insert=function(a,c){var d={select:"nothing",delta:"nothing",element:{},position:{},dragging:!1},e=function(a,c,d,e,f){var h=document.createElement("script");h.type="text/javascript";h.async=!1;f?h.id=a+"json":h.setAttribute("class",a+"script");h.readyState?h.onreadystatechange=function(){if("loaded"==h.readyState||"complete"==h.readyState||"error"==h.readyState)h.onreadystatechange=null,d(window.Authority,
a,e),window.Authority=void 0,g.finish++,g.entry==g.finish&&b._ready()}:(h.onload=function(){d(window.Authority,a,e);window.Authority=void 0;g.finish++;g.entry==g.finish&&b._ready()},h.onerror=function(){g.finish++;g.entry==g.finish&&b._ready()});h.src=c;document.getElementsByTagName("body")[0].appendChild(h)};d.make=function(){var a=document.createElement("div");a.style.left=this.position+"%";m.span.element.appendChild(a);this.element=a};var g={entry:0,finish:0};d.load=function(a,b,d){var f=d||"";
c.codesettingLoc=c.codesetting?c.codesetting+"/":"";g.entry++;e(a,f+("user/"+c.codesettingLoc+a),function(d){for(var h in d)g.entry++,e(a,f+("user/"+c.codesettingLoc+a+h+".js"),b,h,!1)},0,!0)};d.reload=function(a,b,d){this.load("action",this.action.init,c.vscode._fileLocal);this.load("sound",this.sound.init,c.vscode._fileLocal);this.load("comment",this.comment.init,c.vscode._fileLocal);this.load("segment",this.segment.init,c.vscode._fileLocal)};d.insertAuthorities=function(a){for(var c in a){this.delta=
c;for(var e in a[c])this.position=e/b.length*100,b.runtimeAuthority(a[c][e].Authority,this.delta,e),d.make(e),d.change()}f.refresh();this.select=this.delta="nothing"};d.change=function(){"action"==this.delta?this.element.setAttribute("class","action"):"sound"==this.delta?this.element.setAttribute("class","sound"):"comment"==this.delta?this.element.setAttribute("class","comment"):"segment"==this.delta&&this.element.setAttribute("class","segment")};return d}(a,d);a.addon.Streaming.timeframe.timeline.seek.insert.comment=
function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","comment");a.setAttribute("data-position",d);m.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){l.load("comment",a.init,c.vscode._fileLocal)});return d}(a,d);a.addon.Streaming.timeframe.timeline.seek.insert.segment=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=
d/b.length*100+"%";a.setAttribute("class","segment");a.setAttribute("data-position",d);m.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){l.load("segment",a.init,c.vscode._fileLocal)});return d}(a,d);a.addon.Streaming.timeframe.timeline.seek.insert.action=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","action");a.setAttribute("data-position",d);m.span.element.appendChild(a);
f.refresh()}};a.addon.bind.oninit(d,f,function(a){l.load("action",a.init,c.vscode._fileLocal)});return d}(a,d);a.addon.Streaming.timeframe.timeline.seek.insert.sound=function(a,c){var d={init:function(a,c,d){b.runtimeAuthority(a,c,d);a=document.createElement("div");a.style.left=d/b.length*100+"%";a.setAttribute("class","sound");a.setAttribute("data-position",d);m.span.element.appendChild(a);f.refresh()}};a.addon.bind.oninit(d,f,function(a){l.load("sound",a.init,c.vscode._fileLocal)});return d}(a,
d)})});function CSPL(){}CSPL._gaussJ={};CSPL._gaussJ.solve=function(a,b){for(var e=a.length,d=0;d<e;d++){for(var c=0,f=Number.NEGATIVE_INFINITY,m=d;m<e;m++)a[m][d]>f&&(c=m,f=a[m][d]);CSPL._gaussJ.swapRows(a,d,c);0===a[c][d]&&console.log("matrix is singular!");for(c=d+1;c<e;c++){for(f=d+1;f<e+1;f++)a[c][f]-=a[c][d]/a[d][d]*a[d][f];a[c][d]=0}}for(d=e-1;0<=d;d--)for(c=a[d][e]/a[d][d],b[d]=c,f=d-1;0<=f;f--)a[f][e]-=a[f][d]*c,a[f][d]=0};
CSPL._gaussJ.zerosMat=function(a,b){for(var e=[],d=0;d<a;d++){e.push([]);for(var c=0;c<b;c++)e[d].push(0)}return e};CSPL._gaussJ.printMat=function(a){for(var b=0;b<a.length;b++)console.log(a[b])};CSPL._gaussJ.swapRows=function(a,b,e){var d=a[b];a[b]=a[e];a[e]=d};
CSPL.getNaturalKs=function(a,b,e){for(var d=a.length-1,c=CSPL._gaussJ.zerosMat(d+1,d+2),f=1;f<d;f++)c[f][f-1]=1/(a[f]-a[f-1]),c[f][f]=2*(1/(a[f]-a[f-1])+1/(a[f+1]-a[f])),c[f][f+1]=1/(a[f+1]-a[f]),c[f][d+1]=3*((b[f]-b[f-1])/((a[f]-a[f-1])*(a[f]-a[f-1]))+(b[f+1]-b[f])/((a[f+1]-a[f])*(a[f+1]-a[f])));c[0][0]=2/(a[1]-a[0]);c[0][1]=1/(a[1]-a[0]);c[0][d+1]=3*(b[1]-b[0])/((a[1]-a[0])*(a[1]-a[0]));c[d][d-1]=1/(a[d]-a[d-1]);c[d][d]=2/(a[d]-a[d-1]);c[d][d+1]=3*(b[d]-b[d-1])/((a[d]-a[d-1])*(a[d]-a[d-1]));CSPL._gaussJ.solve(c,
e)};CSPL.evalSpline=function(a,b,e,d){for(var c=1;b[c]<a;)c++;a=(a-b[c-1])/(b[c]-b[c-1]);return(1-a)*e[c-1]+a*e[c]+a*(1-a)*((d[c-1]*(b[c]-b[c-1])-(e[c]-e[c-1]))*(1-a)+(-d[c]*(b[c]-b[c-1])+(e[c]-e[c-1]))*a)};
var Utils={userSelectDropDown:function(a){var b=a;b.addEventListener("change",function(){window.localStorage.setItem("storedSelect",[this.selectedIndex,this.options[this.selectedIndex].value]);window.location.reload()});var e=window.localStorage.getItem("storedSelect");e?(e=e.split(","),b.selectedIndex=e[0],b=e[1]):b=void 0;return b||a.options[a.selectedIndex].value},vscodeSelectDropDown:function(a,b){for(var e,d=0;d<b.length;d++)if(b[d].value===a){b[d].selected=!0;e=b.options[d].value;break}return e},
Blend:{}};Utils.Blend.src="ZeroFactor OneFactor SrcAlphaFactor OneMinusSrcAlphaFactor DstAlphaFactor OneMinusDstAlphaFactor DstColorFactor OneMinusDstColorFactor SrcAlphaSaturateFactor".split(" ");Utils.Blend.dst="ZeroFactor OneFactor SrcColorFactor OneMinusSrcColorFactor SrcAlphaFactor OneMinusSrcAlphaFactor DstAlphaFactor OneMinusDstAlphaFactor".split(" ");Utils.Blend.blending="CustomBlending";Utils.flagBut=!1;
Utils.bindButtonUseFunction=function(a,b,e){if("undefined"!=typeof a){var d=function(a){a.preventDefault();Utils.flagBut||(Utils.flagBut=!0,setTimeout(function(){Utils.flagBut=!1},100),0<arguments.length?b.apply(this,e):b());return!1};a.addEventListener("click",d);a.addEventListener("touchstart",d)}};Utils.unBindButton=function(a){"undefined"!=typeof a&&(a.removeEventListener("click"),a.removeEventListener("touchstart"))};
Utils.bindButtonAndKeyPressUseFunction=function(a,b,e,d){if("undefined"!=typeof a){var c=function(a){a.preventDefault();Utils.flagBut||(Utils.flagBut=!0,setTimeout(function(){Utils.flagBut=!1},100),0<arguments.length?e.apply(this,d):e());return!1};a.addEventListener("click",c);a.addEventListener("touchstart",c);Utils.keyBindings[Utils.keyMapping[b]]={keyPress:function(a){0<Utils.keyBindings[a.keyCode].args.length?Utils.keyBindings[a.keyCode].func.apply(this,Utils.keyBindings[a.keyCode].args):Utils.keyBindings[a.keyCode].func();
return!1},func:e,key:b,args:d};window.addEventListener("keypress",Utils.keyBindings[Utils.keyMapping[b]].keyPress)}};Utils.unBindButtonAndKeyPress=function(a,b){"undefined"!=typeof a&&(a.removeEventListener("click"),a.removeEventListener("touchstart"),window.removeEventListener("keypress",Utils.keyBindings[Utils.keyMapping[b]].keyPress))};
Utils.bindKeyPressUseFunction=function(a,b,e){Utils.keyBindings[Utils.keyMapping[a]]={keyPress:function(a){0<Utils.keyBindings[a.keyCode].args.length?Utils.keyBindings[a.keyCode].func.apply(this,Utils.keyBindings[a.keyCode].args):Utils.keyBindings[a.keyCode].func();return!1},func:b,key:a,args:e};window.addEventListener("keypress",Utils.keyBindings[Utils.keyMapping[a]].keyPress)};Utils.unBindKeyPress=function(a){window.removeEventListener("keypress",Utils.keyBindings[Utils.keyMapping[a]].keyPress)};
Utils.bindKeyUpDownUseFunction=function(a,b,e,d,c){var f=!1;Utils.keyBindings[Utils.keyMapping[a]]={keyDown:function(a){if(c&&b){if(f)return!1;f=!0;keyState[a]=void 0}0<d.length?b.apply(this,d):b();return!1},keyUp:function(a){if(c&&e){if(f)f=!1;else return!1;keyState[a]=void 0}0<d.length?e.apply(this,d):e();return!1}}};var keyState=[];Utils.bindKeyStateLoop=function(){for(var a=0;a<keyState.length;a++)if(keyState[a])keyState[a][0][keyState[a][1]](a)};
window.addEventListener("keydown",function(a){keyState[a.keyCode||a.which]=Utils.keyBindings[a.keyCode||a.which]?[Utils.keyBindings[a.keyCode||a.which],"keyDown"]:void 0},!0);window.addEventListener("keyup",function(a){keyState[a.keyCode||a.which]=Utils.keyBindings[a.keyCode||a.which]?[Utils.keyBindings[a.keyCode||a.which],"keyUp"]:void 0},!0);Utils.unBindKeyUpDown=function(a){Utils.keyBindings[Utils.keyMapping[a]]=void 0};Utils.keyBindings={};
Utils.keyMapping={1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"\\":220,q:81,w:87,e:69,r:82,t:84,y:89,u:85,i:73,o:79,p:80,"[":219,"]":221,a:65,s:83,d:68,f:70,g:71,h:72,j:74,k:75,l:76,";":186,"'":222,z:90,x:88,c:67,v:86,b:66,n:78,m:77,",":188,".":190,"/":191};Array.prototype.fill=Array.prototype.fill?Array.prototype.fill:function(a){return Array.apply(null,Array(this.length)).map(Number.prototype.valueOf,a)};Math.radians=function(a){return a*Math.PI/180};
Math.degrees=function(a){return 180*a/Math.PI};Math.lerp=function(a,b){return a*b};Math.lerpSubject=function(a,b,e){return this.lerp(a-b,e)};Math.lerpProp=function(a,b,e,d){a[b]+=this.lerpSubject(e,a[b],d)};Math.lerpProps=function(a,b,e,d){for(var c=0;c<a.length;c++)a[c][b]+=this.lerpSubject(e,a[c][b],d)};Math.distance2=function(a,b){var e=a.x-b.x,d=a.y-b.y;return Math.sqrt(e*e+d*d)};Math.randomFromTo=function(a,b){return Math.floor(Math.random()*(b-a)+a)};
Math.aspectRatio=function(a,b){return a/b};Math.rotateFromPoint=function(a,b,e,d,c,f){f&&(c-=180);c=c*Math.PI/180;return{x:Math.cos(c)*(a-e)-Math.sin(c)*(b-d)+e,y:Math.sin(c)*(a-e)+Math.cos(c)*(b-d)+d}};Math.Type={};
Math.Type.identify=function(a){if(a.constructor){if("Vector3"==a.constructor.name)return"translation";if("Euler"==a.constructor.name)return"radian"}return"position"==a.type?"translation":"rotation"==a.type?"radian":"poly"==a.type?"poly":"translation"==a.type||"radian"==a.type||"poly"==a.type||"uniform"==a.type?a.type:"uniform"};Math.Type.precision=function(a){if("translation"==a)return 1E3;if("radian"==a)return 1E4;if("uniform"==a)return 1E3};Math.Type.convertToPrecision=function(a,b){return b*this.precision(a)};
Math.Type.convertFromPrecision=function(a,b){return b/this.precision(a)};Math.Type.convertToType=function(a,b){return"radian"==a?Math.radians(b):b};Math.Type.convertFromType=function(a,b){return"radian"==a?Math.degrees(b):b};Math.Type.convertToPrecisionType=function(a,b,e){return Math.Type.convertToType(a,e?b*e:b*this.precision(a))};Math.Type.convertFromPrecisionType=function(a,b,e){return Math.Type.convertFromType(a,e?b/e:b/this.precision(a))};
Math.Type.convertToPrecisionData=function(a,b,e,d,c){for(var f=0,m=b.length;f<m;f++)for(var l=e;l<e+d;l++)b[f][l]&&(b[f][l]=c?b[f][l]*c:this.convertToPrecision(a,b[f][l]));return b};Math.Type.convertFromPrecisionData=function(a,b,e,d,c){for(var f=0,m=b.length;f<m;f++)for(var l=e;l<e+d;l++)b[f][l]&&(b[f][l]=c?b[f][l]/c:this.convertFromPrecision(a,b[f][l]));return b};
Math.Type.convertToTypeData=function(a,b,e,d){for(var c=0,f=b.length;c<f;c++)for(var m=e;m<e+d;m++)b[c][m]&&(b[c][m]=this.convertToType(a,b[c][m]));return b};Math.Type.convertFromTypeData=function(a,b,e,d){for(var c=0,f=b.length;c<f;c++)for(var m=e;m<e+d;m++)b[c][m]&&(b[c][m]=this.convertFromType(a,b[c][m]));return b};
Math.Type.convertToPrecisionDataType=function(a,b,e,d,c){for(var f=0,m=b.length;f<m;f++)for(var l=e;l<e+d;l++)b[f][l]&&(b[f][l]=c?b[f][l]*c:this.convertToPrecision(a,b[f][l]),b[f][l]=this.convertToType(a,b[f][l]));return b};Math.Type.convertFromPrecisionDataType=function(a,b,e,d,c){for(var f=0,m=b.length;f<m;f++)for(var l=e;l<e+d;l++)b[f][l]&&(b[f][l]=c?b[f][l]/c:this.convertFromPrecision(a,b[f][l]),b[f][l]=this.convertFromType(a,b[f][l]));return b};Math.Cache={};
Math.Cache.store=function(a,b,e){Math.Cache[a]=b.apply(this,[e])};Math.Poly={};Math.Poly.generateKeys=function(a,b){for(var e=[],d=0,c=a.length;d<c;d++)e[d]=b?b+d:d;return e};Math.Poly.poly=function(a,b,e){if(!b.length)return e?b*e:Math.Type.convertToPrecision(a,b);for(var d=[],c=0,f=b.length;c<f;c++)d[c]=b[c]?Math.Poly.poly(a,b[c],e):0;return d};Math.Poly.generate=function(a,b,e){for(var d=[],c=0,f=b.length;c<f;c++)d[c]=[c,b[c]?Math.Poly.poly(a,b[c],e):0];return d};
Math.Poly.add=function(a,b,e){a=[];for(var d=0,c=b.length;d<c;d++)a[d]=b[d]+e[d];return a};Math.Poly.subtract=function(a,b,e){a=[];for(var d=0,c=b.length;d<c;d++)a[d]=b[d]-e[d];return a};Math.Poly.multiply=function(a,b,e){a=[];for(var d=0,c=b.length;d<c;d++)a[d]=b[d]*e[d];return a};Math.Poly.divide=function(a,b,e){a=[];for(var d=0,c=b.length;d<c;d++)a[d]=b[d]/e[d];return a};Math.Poly.addScalarVector=function(a,b){for(var e=[b.x,b.y,b.z],d,c=0,f=a.length;c<f;c++)d=c-3*(c/3<<0),a[c]+=e[d]?e[d]:1};
Math.Poly.subtractScalarVector=function(a,b){for(var e=[b.x,b.y,b.z],d,c=0,f=a.length;c<f;c++)d=c-3*(c/3<<0),a[c]-=e[d]?e[d]:1};Math.Poly.multiplyScalarVector=function(a,b){for(var e=[b.x,b.y,b.z],d,c=0,f=a.length;c<f;c++)d=c-3*(c/3<<0),a[c]*=e[d]?e[d]:1};Math.Poly.divideScalarVector=function(a,b){for(var e=[b.x,b.y,b.z],d,c=0,f=a.length;c<f;c++)d=c-3*(c/3<<0),a[c]/=e[d]?e[d]:1};
Math.Poly.smoothOut=function(a,b){for(var e=this.avg(a)*b,d=Array(a.length),c=0;c<a.length;c++)d[c]=this.avg([e,this.avg([0<c?d[c-1]:a[c],a[c],c<a.length?a[c]:a[c-1]])]);return d};Math.Poly.avg=function(a){return a.reduce(function(a,e){return a+e},0)/a.length};Math.Poly.Medium={};
Math.Poly.Medium.midDisperse=function(a,b,e){for(var d=[],c=0;c<b;c++){for(var f=c/b*a,m=[],l=0,g=a+1;l<g;l++){var h=l+f;h-=(h/a<<0)*a;h=h>a/2?a-h:h;h=0<h?h-0:0;h=0==(h<l?0:1)?0:h;m[l]=h}f=[];l=[];g=0;for(h=m.length;0<h;h--)l[g]=m[h-1],f[h-1]=l[g]+m[g],f[h-1]=f[h-1]>a/2?1:f[h-1]/(a/2),g++;d[c]=e?Math.Poly.smoothOut(f,e):f}return d};
Math.Poly.Medium.midEase=function(a,b){for(var e=[],d=0,c=a+1;d<c;d++){var f=0-d+a;f-=(f/a<<0)*a;f=f>a/2?a-f:f;e[d]=0<f?f-0:0}d=[];for(c=0;c<e.length;c++)d[c]=e[c]>a/2?1:e[c]/(a/2);return d=b?Math.Poly.smoothOut(d,b):d};